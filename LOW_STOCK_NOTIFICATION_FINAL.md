# โ Low Stock Notifications - ุงููุณุฎุฉ ุงูููุงุฆูุฉ

## ๐ฏ ุงูุดูู ุงูููุงุฆู ููุฅุดุนุงุฑ

ุนูุฏูุง ููู ูุฎุฒูู ููุชุฌ ุนู ุงูุญุฏ ุงูุฃุฏููุ ุณูุธูุฑ ุงูุฅุดุนุงุฑ ุจูุฐุง ุงูุดูู:

### ุจุงูุนุฑุจู ๐ฐ๐ผ
```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ
ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)
```

### ุจุงูุฅูุฌููุฒู ๐ฌ๐ง
```
โ๏ธ Low Stock Alert
Product "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) is running low! 
Current stock: 4 (Min level: 5)
```

---

## ๐ ูุนูููุงุช ูุนุฑุถูุง ุงูุฅุดุนุงุฑ

| ุงููุนูููุฉ | ูุซุงู |
|----------|------|
| **ุงุณู ุงูููุชุฌ** | ุดุงูุจู ุดุนุฑ |
| **SKU** | kw-2 |
| **ุงููููุฉ ุงูุญุงููุฉ** | 4 |
| **ุงูุญุฏ ุงูุฃุฏูู** | 5 |
| **ุงูููุช** | ููุฐ ุฏูููุฉ |

---

## ๐จ ููู ูุธูุฑ ูู ูุงุฌูุฉ Notifications

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ๏ธ  โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ        ููุฐ ุฏูููุฉ         โ
โ                                                      โ
โ     ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู      โ
โ     ููุฎูุถ! ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)       โ
โ                                                      โ
โ     ๐ด ุบูุฑ ููุฑูุก    ๐ฆ Low Stock                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

---

## ๐งช ุงุฎุชุจุฑ ุงูุขู!

### ุงูุทุฑููุฉ 1: ูู POS

1. **ุงูุชุญ POS**
2. **ุงุฎุชุฑ ููุชุฌ "ุดุงูุจู ุดุนุฑ"**
   - Stock: 10
   - Min Level: 5
3. **ุจูุน 6 ูุทุน**
4. **ุงุฐูุจ ููNotifications**

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)

ููุฐ ูุญุธุงุช
```

### ุงูุทุฑููุฉ 2: ูู Products

1. **ุงูุชุญ Products**
2. **Edit "ุดุงูุจู ุฑุบุงูู"**
3. **ุบูุฑ Stock ูู 10 โ 3**
4. **Save**
5. **ุงุฐูุจ ููNotifications**

**ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ุดุงูุจู ุฑุบุงูู" (SKU: kw-3) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 3 (ุงูุญุฏ ุงูุฃุฏูู: 5)

ููุฐ ูุญุธุงุช
```

---

## โจ ูููุฒุงุช ุฅุถุงููุฉ

### 1. ุนูุฏ ุงูุถุบุท ุนูู ุงูุฅุดุนุงุฑ

```
ุงูุฅุดุนุงุฑ โ ููููู ูุตูุญุฉ Products
          ูุน ุชูุนูู filter "Low Stock"
          ูุชุญุฏูุฏ ุงูููุชุฌ ุงููุญุฏุฏ
```

**URL:**
```
/products?low_stock=1&product_id=6
```

### 2. ุงูุฅุดุนุงุฑ ูุธูุฑ ูู:

- โ ุตูุญุฉ Notifications
- โ Notifications Bell (๐) ูู ุงููHeader
- โ Counter ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ

### 3. ุงูุฅุดุนุงุฑ ููุฑุณู ูู:

- โ ุฌููุน ุงููAdmins
- โ ุฃู ูุณุชุฎุฏู ูู ุตูุงุญูุฉ `manage_options`

---

## ๐ ุงูุชุญูู ูู Database

ุจุนุฏ ุงูุงุฎุชุจุงุฑุ ุงูุชุญ phpMyAdmin:

```sql
SELECT 
    id,
    type,
    notifiable_id,
    data,
    status,
    created_at
FROM wp_asmaa_notifications
WHERE type = 'low_stock'
ORDER BY id DESC
LIMIT 5;
```

**ุงููdata ุงููุชููุนุฉ:**
```json
{
  "type": "low_stock",
  "product_id": 6,
  "product_name": "ุดุงูุจู ุดุนุฑ",
  "current_stock": 4,
  "min_stock_level": 5,
  "sku": "kw-2",
  "title_ar": "โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ",
  "message_ar": "ุงูููุชุฌ \"ุดุงูุจู ุดุนุฑ\" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)",
  "title_en": "โ๏ธ Low Stock Alert",
  "message_en": "Product \"ุดุงูุจู ุดุนุฑ\" (SKU: kw-2) is running low! Current stock: 4 (Min level: 5)",
  "action": {
    "route": "/products",
    "query": {
      "low_stock": "1",
      "product_id": 6
    }
  }
}
```

---

## ๐ ุฃูุซูุฉ ุญููููุฉ

### ูุซุงู 1: ูุฎุฒูู ูุตู ูู0

```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 0 (ุงูุญุฏ ุงูุฃุฏูู: 5)

ููุฐ 5 ุฏูุงุฆู
๐ด ุบูุฑ ููุฑูุก
```

### ูุซุงู 2: ูุฎุฒูู ุฃูู ูู ุงูุญุฏ ุจูููู

```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ุดุงูุจู ุฑุบุงูู" (SKU: kw-3) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)

ููุฐ ุณุงุนุฉ
๐ด ุบูุฑ ููุฑูุก
```

### ูุซุงู 3: ุจุฏูู SKU

```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ููุชุฌ ุฌุฏูุฏ" (SKU: N/A) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 2 (ุงูุญุฏ ุงูุฃุฏูู: 10)

ููุฐ ููููู
โ ููุฑูุก
```

---

## ๐ฏ ุงูุชุญุณููุงุช ุงููุถุงูุฉ

### ูุจู ุงูุชุญุณูู:
```
๐ Low Stock
Just now
```
โ ุบูุฑ ูุงุถุญ - ุฃู ููุชุฌุ ูู ุงููููุฉุ

### ุจุนุฏ ุงูุชุญุณูู:
```
โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ

ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" (SKU: kw-2) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! 
ุงููููุฉ ุงูุญุงููุฉ: 4 (ุงูุญุฏ ุงูุฃุฏูู: 5)

ููุฐ ูุญุธุงุช
```
โ ูุงุถุญ ุชูุงูุงู - ุงุณู ุงูููุชุฌุ SKUุ ุงููููุฉ ุงูุญุงููุฉ ูุงูุญุฏ ุงูุฃุฏูู!

---

## ๐ ุฎุทูุงุช ุงูุงุณุชุฎุฏุงู

### ูููุฏูุฑ:

1. **ุงูุชุญ Notifications** (๐)
2. **ุดุงูุฏ ุงูุฅุดุนุงุฑ**:
   ```
   โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ
   ุงูููุชุฌ "ุดุงูุจู ุดุนุฑ" ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ...
   ```
3. **ุงุถุบุท ุนูู ุงูุฅุดุนุงุฑ**
4. **ููุชุญ ุตูุญุฉ Products** ูุน ุชุญุฏูุฏ ุงูููุชุฌ
5. **ุนุฏูู ุงููุฎุฒูู** ุฃู ุงุทูุจ ุชูุฑูุฏ ุฌุฏูุฏ

---

## โ๏ธ ุงูููุฏ ุงูููุญุฏุซ

### Backend: NotificationDispatcher.php

```php
'title_ar' => 'โ๏ธ ุชูุจูู: ูุฎุฒูู ููุฎูุถ',
'message_ar' => sprintf(
    'ุงูููุชุฌ "%s" (SKU: %s) ุฃุตุจุญ ุงููุฎุฒูู ููุฎูุถ! ุงููููุฉ ุงูุญุงููุฉ: %d (ุงูุญุฏ ุงูุฃุฏูู: %d)',
    $product_name,
    $sku ?: 'N/A',
    $current_stock,
    $min_stock_level
),

'title_en' => 'โ๏ธ Low Stock Alert',
'message_en' => sprintf(
    'Product "%s" (SKU: %s) is running low! Current stock: %d (Min level: %d)',
    $product_name,
    $sku ?: 'N/A',
    $current_stock,
    $min_stock_level
),

'action' => [
    'route' => '/products',
    'query' => [
        'low_stock' => '1',
        'product_id' => $product_id,
    ],
],
```

### Frontend: Notifications/Index.vue

```javascript
// ูุนุฑุถ ุชููุงุฆูุงู:
{{ pickText(n, 'title') }}    // ุงูุนููุงู
{{ pickText(n, 'message') }}  // ุงูุฑุณุงูุฉ ุงูุชูุตูููุฉ
```

---

## โ ุงูุฎูุงุตุฉ

ุงูุขู ุงููnotification:
- โ ูุนุฑุถ **ุงุณู ุงูููุชุฌ** ุจุงูุถุจุท
- โ ูุนุฑุถ **SKU** ุงูููุชุฌ
- โ ูุนุฑุถ **ุงููููุฉ ุงูุญุงููุฉ**
- โ ูุนุฑุถ **ุงูุญุฏ ุงูุฃุฏูู**
- โ ูุฏุนู **ุงูุนุฑุจู ูุงูุฅูุฌููุฒู**
- โ ููููู ูุตูุญุฉ ุงูููุชุฌุงุช ุนูุฏ ุงูุถุบุท ุนููู
- โ ุฑุณุงูุฉ ูุงุถุญุฉ ูููุตูุฉ

**ุฌุฑุจ ุงูุขู ูู POS!** ๐
