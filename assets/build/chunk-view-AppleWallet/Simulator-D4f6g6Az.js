import{u as E,a as N}from"../chunk-component-NotificationsBell-PEptZHCy.js";import{f as w,i as O,c as u,o as r,d as o,p as t,u as P,m as c,s as W,P as $,t as b,b as s,a as G,Q as p,F as f,k as y}from"../chunk-vendor-vue-9XB69CcG.js";import{P as M}from"../chunk-component-PageHeader-DOCn2Cgp.js";import{_ as R}from"../chunk-component-Card-CPZTx4Dn.js";const B=w([]);let Y=0;function Q(){const g=(n,a="success",U=3e3)=>{const F=Y++,v={id:F,message:n,type:a,visible:!0};return B.value.push(v),setTimeout(()=>{_(F)},U),F},_=n=>{const a=B.value.findIndex(U=>U.id===n);a!==-1&&B.value.splice(a,1)};return{toasts:B,showToast:g,removeToast:_,success:(n,a)=>g(n,"success",a),error:(n,a)=>g(n,"error",a),warning:(n,a)=>g(n,"warning",a),info:(n,a)=>g(n,"info",a)}}const J={class:"apple-wallet-simulator-page"},K={class:"simulator-sticky"},X={class:"iphone-mockup"},Z={class:"pass-top"},h={class:"logo-area"},ll={class:"logo-placeholder"},el={class:"header-fields"},ol={class:"pass-body"},al={class:"primary-fields"},sl={class:"secondary-fields"},tl={class:"qr-section"},rl={class:"qr-placeholder"},ul={class:"pass-controls mt-3 d-flex justify-content-center"},dl={key:0,class:"wallet-pass-back mt-3 p-3 bg-white rounded shadow-sm border"},nl={class:"fw-bold d-block mb-1"},ml={class:"small text-muted mb-0"},il={class:"mb-3"},cl={__name:"Simulator",setup(g){const{t:_}=E(),T=Q(),I=w(!0),x=w(!1),V=w("front"),n=w("loyalty"),a=w({backgroundColor:"#ffffff",foregroundColor:"#000000",labelColor:"#646464",logoText:"Asmaa Salon",headerFields:[],primaryFields:[],secondaryFields:[],backFields:[]}),U=async()=>{var v;try{I.value=!0;const l=await N.get(`/apple-wallet/templates/${n.value}`);(v=l.data)!=null&&v.success&&(a.value=l.data.data)}catch(l){console.error("Error loading template:",l),T.error("حدث خطأ في تحميل القالب")}finally{I.value=!1}},F=async()=>{var v;try{x.value=!0,(v=(await N.post(`/apple-wallet/templates/${n.value}`,a.value)).data)!=null&&v.success&&T.success("تم حفظ التصميم بنجاح")}catch(l){console.error("Error saving template:",l),T.error("حدث خطأ أثناء حفظ التصميم")}finally{x.value=!1}};return O(()=>{U()}),(v,l)=>{const S=c("CIcon"),j=c("CSpinner"),z=c("CButton"),q=c("CButtonGroup"),m=c("CCol"),A=c("CCardHeader"),i=c("CFormInput"),k=c("CRow"),H=c("CCardBody"),L=c("CCard"),D=c("CFormTextarea");return r(),u("div",J,[o(M,{title:P(_)("appleWallet.simulator.title")||"Apple Wallet Simulator",subtitle:P(_)("appleWallet.simulator.subtitle")||"Design and customize your Apple Wallet passes"},{icon:t(()=>[o(S,{icon:"cil-wallet"})]),actions:t(()=>[o(z,{color:"primary",onClick:F,disabled:x.value},{default:t(()=>[x.value?(r(),W(j,{key:0,size:"sm",class:"me-2"})):(r(),W(S,{key:1,icon:"cil-save",class:"me-2"})),$(" "+b(P(_)("common.save")||"Save Design"),1)]),_:1},8,["disabled"])]),_:1},8,["title","subtitle"]),o(k,{class:"g-4"},{default:t(()=>[o(m,{lg:5},{default:t(()=>[s("div",K,[s("div",X,[s("div",{class:"wallet-pass",style:p({backgroundColor:a.value.backgroundColor})},[s("div",Z,[s("div",h,[s("div",ll,[o(S,{icon:"cil-factory",size:"xl",style:p({color:a.value.labelColor})},null,8,["style"])]),s("span",{class:"logo-text",style:p({color:a.value.foregroundColor})},b(a.value.logoText),5)]),s("div",el,[(r(!0),u(f,null,y(a.value.headerFields,e=>(r(),u("div",{key:e.key,class:"header-field"},[s("div",{class:"field-label",style:p({color:a.value.labelColor})},b(e.label),5),s("div",{class:"field-value",style:p({color:a.value.foregroundColor})},b(e.value),5)]))),128))])]),s("div",ol,[s("div",al,[(r(!0),u(f,null,y(a.value.primaryFields,e=>(r(),u("div",{key:e.key,class:"primary-field"},[s("div",{class:"field-label",style:p({color:a.value.labelColor})},b(e.label),5),s("div",{class:"field-value",style:p({color:a.value.foregroundColor})},b(e.value),5)]))),128))]),s("div",sl,[(r(!0),u(f,null,y(a.value.secondaryFields,e=>(r(),u("div",{key:e.key,class:"secondary-field"},[s("div",{class:"field-label",style:p({color:a.value.labelColor})},b(e.label),5),s("div",{class:"field-value",style:p({color:a.value.foregroundColor})},b(e.value),5)]))),128))]),s("div",tl,[s("div",rl,[o(S,{icon:"cil-qr-code",size:"4xl",style:p({color:a.value.foregroundColor})},null,8,["style"])]),s("div",{class:"serial-text",style:p({color:a.value.labelColor})},"LOYALTY-12345-67890",4)])])],4),s("div",ul,[o(q,null,{default:t(()=>[o(z,{color:V.value==="front"?"primary":"outline-primary",onClick:l[0]||(l[0]=e=>V.value="front")},{default:t(()=>[...l[6]||(l[6]=[$("الواجهة",-1)])]),_:1},8,["color"]),o(z,{color:V.value==="back"?"primary":"outline-primary",onClick:l[1]||(l[1]=e=>V.value="back")},{default:t(()=>[...l[7]||(l[7]=[$("الخلفية",-1)])]),_:1},8,["color"])]),_:1})]),V.value==="back"?(r(),u("div",dl,[l[8]||(l[8]=s("h6",{class:"border-bottom pb-2 mb-2"},"معلومات خلف البطاقة",-1)),(r(!0),u(f,null,y(a.value.backFields,e=>(r(),u("div",{key:e.key,class:"mb-3"},[s("label",nl,b(e.label),1),s("p",ml,b(e.value),1)]))),128))])):G("",!0)])])]),_:1}),o(m,{lg:7},{default:t(()=>[o(L,{class:"mb-4"},{default:t(()=>[o(A,null,{default:t(()=>[...l[9]||(l[9]=[s("strong",null,"ألوان البطاقة",-1)])]),_:1}),o(H,null,{default:t(()=>[o(k,{class:"g-3"},{default:t(()=>[o(m,{md:4},{default:t(()=>[l[10]||(l[10]=s("label",{class:"form-label"},"لون الخلفية",-1)),o(i,{type:"color",modelValue:a.value.backgroundColor,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value.backgroundColor=e)},null,8,["modelValue"])]),_:1}),o(m,{md:4},{default:t(()=>[l[11]||(l[11]=s("label",{class:"form-label"},"لون النصوص",-1)),o(i,{type:"color",modelValue:a.value.foregroundColor,"onUpdate:modelValue":l[3]||(l[3]=e=>a.value.foregroundColor=e)},null,8,["modelValue"])]),_:1}),o(m,{md:4},{default:t(()=>[l[12]||(l[12]=s("label",{class:"form-label"},"لون العناوين",-1)),o(i,{type:"color",modelValue:a.value.labelColor,"onUpdate:modelValue":l[4]||(l[4]=e=>a.value.labelColor=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),o(L,{class:"mb-4"},{default:t(()=>[o(A,null,{default:t(()=>[...l[13]||(l[13]=[s("strong",null,"النصوص الأساسية",-1)])]),_:1}),o(H,null,{default:t(()=>[s("div",il,[l[14]||(l[14]=s("label",{class:"form-label"},"إسم الصالون (Logo Text)",-1)),o(i,{modelValue:a.value.logoText,"onUpdate:modelValue":l[5]||(l[5]=e=>a.value.logoText=e)},null,8,["modelValue"])]),l[23]||(l[23]=s("h6",{class:"mt-4 border-bottom pb-2"},"الحقول العلوية (Header)",-1)),(r(!0),u(f,null,y(a.value.headerFields,(e,C)=>(r(),u("div",{key:C,class:"mb-3 p-3 border rounded bg-light"},[o(k,{class:"g-3"},{default:t(()=>[o(m,{md:6},{default:t(()=>[l[15]||(l[15]=s("label",{class:"form-label"},"العنوان",-1)),o(i,{modelValue:e.label,"onUpdate:modelValue":d=>e.label=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(m,{md:6},{default:t(()=>[l[16]||(l[16]=s("label",{class:"form-label"},"القيمة الافتراضية",-1)),o(i,{modelValue:e.value,"onUpdate:modelValue":d=>e.value=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128)),l[24]||(l[24]=s("h6",{class:"mt-4 border-bottom pb-2"},"الحقول الأساسية (Primary)",-1)),(r(!0),u(f,null,y(a.value.primaryFields,(e,C)=>(r(),u("div",{key:C,class:"mb-3 p-3 border rounded bg-light"},[o(k,{class:"g-3"},{default:t(()=>[o(m,{md:6},{default:t(()=>[l[17]||(l[17]=s("label",{class:"form-label"},"العنوان",-1)),o(i,{modelValue:e.label,"onUpdate:modelValue":d=>e.label=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(m,{md:6},{default:t(()=>[l[18]||(l[18]=s("label",{class:"form-label"},"القيمة الافتراضية",-1)),o(i,{modelValue:e.value,"onUpdate:modelValue":d=>e.value=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128)),l[25]||(l[25]=s("h6",{class:"mt-4 border-bottom pb-2"},"الحقول الثانوية (Secondary)",-1)),(r(!0),u(f,null,y(a.value.secondaryFields,(e,C)=>(r(),u("div",{key:C,class:"mb-3 p-3 border rounded bg-light"},[o(k,{class:"g-3"},{default:t(()=>[o(m,{md:6},{default:t(()=>[l[19]||(l[19]=s("label",{class:"form-label"},"العنوان",-1)),o(i,{modelValue:e.label,"onUpdate:modelValue":d=>e.label=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(m,{md:6},{default:t(()=>[l[20]||(l[20]=s("label",{class:"form-label"},"القيمة الافتراضية",-1)),o(i,{modelValue:e.value,"onUpdate:modelValue":d=>e.value=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128)),l[26]||(l[26]=s("h6",{class:"mt-4 border-bottom pb-2"},"المعلومات الخلفية (Back Fields)",-1)),(r(!0),u(f,null,y(a.value.backFields,(e,C)=>(r(),u("div",{key:C,class:"mb-3 p-3 border rounded bg-light"},[o(k,{class:"g-3"},{default:t(()=>[o(m,{md:12},{default:t(()=>[l[21]||(l[21]=s("label",{class:"form-label"},"العنوان",-1)),o(i,{modelValue:e.label,"onUpdate:modelValue":d=>e.label=d},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),o(m,{md:12},{default:t(()=>[l[22]||(l[22]=s("label",{class:"form-label"},"النص",-1)),o(D,{modelValue:e.value,"onUpdate:modelValue":d=>e.value=d,rows:"3"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1024)]))),128))]),_:1})]),_:1})]),_:1})]),_:1})])}}},pl=R(cl,[["__scopeId","data-v-3adb9e63"]]),Cl=Object.freeze(Object.defineProperty({__proto__:null,default:pl},Symbol.toStringTag,{value:"Module"}));export{Cl as S,Q as u};
