import{f as v,E as x,j as B,c as d,o as c,b as e,a as h,t as i,u as s,P as b,F as j,g as V,R as C,S as _,X as S}from"../chunk-vendor-vue-BKzcbwC-.js";import{a as F}from"../chunk-component-Sidebar-BkXV_oSu.js";import{u as H}from"../chunk-component-NotificationsBell-CyBx4swB.js";import{_ as $}from"../chunk-component-Card-D7ddNvJz.js";import"../chunk-vendor-Ltsl4QyH.js";import"../chunk-vendor-pinia-CsGkbfJ3.js";import"../chunk-vendor-axios-B9ygI19o.js";const N={class:"categories-page"},A={class:"page-header"},I={class:"header-left"},L={class:"page-title"},T={class:"page-subtitle"},z={class:"header-right"},D={class:"categories-content"},U={key:0,class:"loading-state"},E={key:1,class:"empty-state"},R={key:2,class:"categories-grid"},q={class:"category-header"},P={class:"category-info"},X={class:"category-name"},G={key:0,class:"category-description"},J={class:"category-footer"},K={class:"category-meta"},O={class:"meta-item"},Q={class:"category-actions"},W=["onClick","title"],Y=["onClick","title"],Z={class:"modal-header"},ee={class:"modal-body"},oe={class:"form-group"},te={class:"form-group"},se={class:"modal-footer"},ne=["disabled"],ie={__name:"BookingCategories",setup(ae){const{t}=H();F();const f=v(!1),r=v([{id:1,name:"Hair Services",description:"All hair-related services",services_count:5},{id:2,name:"Spa & Massage",description:"Relaxation and spa treatments",services_count:3},{id:3,name:"Nail Care",description:"Manicure and pedicure services",services_count:4}]),g=v(!1),u=v(null),p=v(!1),a=x({name:"",description:""}),m=(n=null)=>{u.value=n,n?(a.name=n.name,a.description=n.description||""):(a.name="",a.description=""),g.value=!0},k=()=>{g.value=!1,u.value=null,a.name="",a.description=""},y=async()=>{p.value=!0;try{if(u.value){const n=r.value.findIndex(o=>o.id===u.value.id);n!==-1&&(r.value[n]={...r.value[n],name:a.name,description:a.description})}else{const n=Math.max(...r.value.map(o=>o.id),0)+1;r.value.push({id:n,name:a.name,description:a.description,services_count:0})}k()}catch(n){console.error("Failed to save category:",n),alert(t("booking.failedToSave"))}finally{p.value=!1}},M=n=>{confirm(t("booking.deleteCategoryConfirm"))&&(r.value=r.value.filter(o=>o.id!==n))};return B(()=>{f.value=!1}),(n,o)=>(c(),d("div",N,[e("div",A,[e("div",I,[e("h1",L,i(s(t)("booking.serviceCategories")),1),e("p",T,i(s(t)("booking.manageCategoriesSubtitle")),1)]),e("div",z,[e("button",{class:"btn btn-secondary",onClick:o[0]||(o[0]=l=>n.$router.back())},[o[6]||(o[6]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)),b(" "+i(s(t)("booking.back")),1)]),e("button",{class:"btn btn-primary",onClick:o[1]||(o[1]=l=>m())},[o[7]||(o[7]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),b(" "+i(s(t)("booking.addCategory")),1)])])]),e("div",D,[f.value?(c(),d("div",U,[o[8]||(o[8]=e("div",{class:"spinner"},null,-1)),e("p",null,i(s(t)("booking.loadingCategories")),1)])):r.value.length===0?(c(),d("div",E,[o[9]||(o[9]=e("svg",{class:"empty-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),e("p",null,i(s(t)("booking.noCategoriesFound")),1),e("button",{class:"btn btn-primary",onClick:o[2]||(o[2]=l=>m())},i(s(t)("booking.addFirstCategory")),1)])):(c(),d("div",R,[(c(!0),d(j,null,V(r.value,l=>(c(),d("div",{key:l.id,class:"category-card"},[e("div",q,[o[10]||(o[10]=e("div",{class:"category-icon"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])],-1)),e("div",P,[e("h3",X,i(l.name),1),l.description?(c(),d("p",G,i(l.description),1)):h("",!0)])]),e("div",J,[e("div",K,[e("span",O,[o[11]||(o[11]=e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})],-1)),b(" "+i(l.services_count||0)+" "+i(s(t)("booking.services")),1)])]),e("div",Q,[e("button",{class:"action-btn edit",onClick:w=>m(l),title:s(t)("booking.edit")},[...o[12]||(o[12]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,W),e("button",{class:"action-btn delete",onClick:w=>M(l.id),title:s(t)("booking.delete")},[...o[13]||(o[13]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Y)])])]))),128))]))]),g.value?(c(),d("div",{key:0,class:"modal-overlay",onClick:k},[e("div",{class:"modal-content",onClick:o[5]||(o[5]=S(()=>{},["stop"]))},[e("div",Z,[e("h3",null,i(u.value?s(t)("booking.editCategory"):s(t)("booking.addCategory")),1),e("button",{class:"modal-close",onClick:k},[...o[14]||(o[14]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",ee,[e("div",oe,[e("label",null,i(s(t)("booking.categoryName"))+" *",1),C(e("input",{"onUpdate:modelValue":o[3]||(o[3]=l=>a.name=l),type:"text",class:"form-input",required:""},null,512),[[_,a.name]])]),e("div",te,[e("label",null,i(s(t)("booking.categoryDescription")),1),C(e("textarea",{"onUpdate:modelValue":o[4]||(o[4]=l=>a.description=l),class:"form-input",rows:"3"},null,512),[[_,a.description]])])]),e("div",se,[e("button",{class:"btn btn-secondary",onClick:k},i(s(t)("booking.cancel")),1),e("button",{class:"btn btn-primary",onClick:y,disabled:p.value},i(p.value?s(t)("booking.saving"):s(t)("booking.save")),9,ne)])])])):h("",!0)]))}},ke=$(ie,[["__scopeId","data-v-d6ae1e75"]]);export{ke as default};
