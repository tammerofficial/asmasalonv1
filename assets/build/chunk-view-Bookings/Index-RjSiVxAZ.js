import{f as b,e as D,k as $e,m as Ue,j as De,c as r,o as u,b as e,a as y,d as c,t as n,u as o,w as g,P as k,p as Fe,F as A,g as V,R as h,V as G,S as w,U as I,C as _,X as J,n as ke,Y as x}from"../chunk-vendor-vue-DkCSGS5r.js";import{a as He}from"../chunk-component-Sidebar-BFH2XEX7.js";import{u as ze}from"./BookingAppearance-DQIfgU3R.js";import{u as Le,a as de}from"../chunk-component-NotificationsBell-CdT4gVQ0.js";import{B as qe}from"./BookingCalendar-3-hDWMyJ.js";import{S as U}from"../chunk-component-StatCard-CQbqZfDa.js";import{H as Ie}from"../chunk-component-HelpSection-DCIZko8t.js";import{_ as Ee}from"../chunk-component-Card-B6TBnHC7.js";import"../chunk-vendor-6xaPOP3o.js";import"../chunk-vendor-charts-C66rl4lP.js";import"../chunk-vendor-pinia-BW6wRy0H.js";import"../chunk-view-AppleWallet/Simulator-f79KHPiS.js";import"../chunk-component-PageHeader-2UM0PeLN.js";import"./BookingFormPreview-D-Yed1Du.js";import"../chunk-vendor-axios-B9ygI19o.js";const Re={class:"booking-page"},Oe={class:"booking-header"},Pe={class:"header-content"},Ke={class:"header-main"},Qe={class:"header-text"},Xe={class:"header-title"},Ye={class:"header-subtitle"},Ge={class:"header-stats"},Je={class:"header-actions"},We={class:"booking-tabs-nav"},Ze={class:"tabs-container"},et=["onClick"],tt={class:"tab-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ot=["d"],st={class:"tab-text"},nt={key:0,class:"tab-badge"},it={class:"booking-content"},lt={class:"tab-panel"},at={class:"panel-header"},dt={class:"panel-title"},ct={class:"header-actions"},rt={key:0,class:"loading-state"},ut={key:1,class:"empty-state"},vt={key:2},pt={class:"analytics-card"},_t={class:"analytics-header"},mt={class:"analytics-title"},ht={class:"analytics-subtitle"},gt={class:"analytics-table-wrapper"},kt={class:"analytics-table services-analytics-table"},bt={class:"table-header-row"},ft={class:"th-service-name"},yt={class:"th-duration"},Ct={class:"th-price"},wt={class:"th-appointments"},St={class:"th-revenue"},Mt={class:"th-avg-duration"},At={class:"th-actions"},Vt={key:0},xt={class:"no-data",colspan:"7"},jt={class:"td-service-name"},Bt={class:"service-name-cell"},Nt={class:"service-name-text"},Tt={class:"td-duration"},$t={class:"td-price"},Ut={class:"unified-amount price-amount"},Dt={class:"td-appointments"},Ft={class:"td-revenue"},Ht={class:"unified-amount revenue-amount"},zt={class:"td-avg-duration"},Lt={class:"avg-duration-text"},qt={class:"td-actions"},It={class:"table-actions"},Et=["onClick","title"],Rt=["onClick","title"],Ot=["onClick","title"],Pt={key:1,class:"analytics-total-row"},Kt={colspan:"3"},Qt={class:"services-grid"},Xt={class:"service-header"},Yt={class:"service-title"},Gt={class:"service-actions"},Jt=["onClick","title"],Wt=["onClick","title"],Zt=["onClick","title"],eo={class:"service-body"},to={class:"service-info"},oo={class:"info-item"},so={class:"info-label"},no={class:"info-value"},io={class:"info-item"},lo={class:"info-label"},ao={class:"info-value"},co={class:"info-item"},ro={class:"info-label"},uo={class:"info-value highlight"},vo={class:"tab-panel"},po={class:"panel-header"},_o={class:"panel-title"},mo={key:0,class:"loading-state"},ho={key:1,class:"empty-state"},go={key:2,class:"staff-grid"},ko={class:"staff-avatar"},bo={class:"staff-info"},fo={class:"staff-name"},yo={class:"staff-details"},Co={class:"detail-item"},wo={key:0,class:"detail-item"},So={class:"staff-actions"},Mo=["onClick","title"],Ao=["onClick","title"],Vo={class:"tab-panel"},xo={class:"panel-header"},jo={class:"panel-title"},Bo={class:"appointments-list-view"},No={class:"header-filters"},To=["placeholder"],$o=["placeholder"],Uo={value:""},Do={value:"pending"},Fo={value:"approved"},Ho={value:"cancelled"},zo={value:"completed"},Lo={key:0,class:"loading-state"},qo={key:1,class:"empty-state"},Io={key:2},Eo={class:"appointments-overview"},Ro={class:"analytics-card"},Oo={class:"analytics-header"},Po={class:"analytics-title"},Ko={class:"analytics-subtitle"},Qo={class:"analytics-table-wrapper"},Xo={class:"analytics-table appointments-analytics-table"},Yo={class:"table-header-row"},Go={rowspan:"2",class:"th-employee"},Jo={rowspan:"2",class:"th-service"},Wo={colspan:"5",class:"th-appointments-header"},Zo={colspan:"2",class:"th-customers-header"},es={rowspan:"2",class:"th-revenue"},ts={class:"table-header-row"},os={class:"th-total"},ss={class:"th-approved"},ns={class:"th-pending"},is={class:"th-rejected"},ls={class:"th-cancelled"},as={class:"th-customers-total"},ds={class:"th-new-customers"},cs={key:0},rs={class:"no-data",colspan:"10"},us={class:"td-employee"},vs={class:"td-service"},ps={class:"td-total"},_s={class:"td-approved"},ms={class:"td-pending"},hs={class:"td-rejected"},gs={class:"td-cancelled"},ks={class:"td-customers-total"},bs={class:"td-new-customers"},fs={class:"td-revenue"},ys={class:"unified-amount"},Cs={key:1,class:"analytics-total-row"},ws={colspan:"2"},Ss={class:"analytics-note"},Ms={class:"appointments-list"},As={class:"appointment-date"},Vs={class:"date-day"},xs={class:"date-month"},js={class:"date-time"},Bs={class:"appointment-details"},Ns={class:"appointment-service"},Ts={class:"appointment-staff"},$s={class:"appointment-status"},Us={class:"appointment-actions"},Ds=["onClick","title"],Fs=["onClick","title"],Hs=["onClick","title"],zs={class:"modal-header"},Ls={key:0,class:"modal-body"},qs={class:"service-details-view"},Is={class:"service-header"},Es={class:"service-avatar"},Rs={class:"service-header-info"},Os={class:"service-name-large"},Ps={class:"service-stats-grid"},Ks={class:"stat-item"},Qs={class:"stat-content"},Xs={class:"stat-label"},Ys={class:"stat-value"},Gs={class:"stat-item"},Js={class:"stat-content"},Ws={class:"stat-label"},Zs={class:"stat-value"},en={class:"stat-item"},tn={class:"stat-content"},on={class:"stat-label"},sn={class:"stat-value"},nn={class:"service-info-grid"},ln={key:0,class:"info-row"},an={class:"info-label"},dn={class:"info-value"},cn={class:"modal-footer"},rn={class:"modal-header"},un={class:"modal-body"},vn={class:"form-group"},pn={class:"form-row"},_n={class:"form-group"},mn={class:"form-group"},hn={class:"modal-footer"},gn=["disabled"],kn={class:"modal-header"},bn={class:"modal-body"},fn={class:"form-group"},yn={class:"form-group"},Cn={class:"form-group"},wn={class:"modal-footer"},Sn=["disabled"],Mn={class:"modal-header"},An={class:"modal-body"},Vn={class:"form-row"},xn={class:"form-group"},jn=["placeholder"],Bn={value:0,disabled:""},Nn={key:0,value:0,disabled:""},Tn=["value"],$n={class:"form-group"},Un={class:"form-row"},Dn={class:"form-group"},Fn=["value"],Hn={class:"form-group"},zn=["value"],Ln={class:"form-row"},qn={class:"form-group"},In={class:"form-group"},En={class:"form-group"},Rn={class:"modal-footer"},On=["disabled"],Pn={__name:"Index",setup(Kn){const{t:i}=Le(),be=He(),d=ze(),ce=Ue(),re=De(),j=b("services"),E=b("calendar"),W=b(!1),Z=b(!1),ee=b(!1),te=b(!1),M=b(null),F=b(null),H=b(null),z=b(null),C=b(!1),$=b({date_from:"",date_to:"",status:""}),m=b({title:"",duration:60,price:0}),S=b({full_name:"",email:"",phone:""}),p=b({customer_id:0,staff_id:0,service_id:0,booking_date:"",booking_time:"",status:"pending",notes:""}),B=b([]),oe=b(!1),se=b("");let ne=null;const ue=async(l="")=>{var t;oe.value=!0;try{const a=await de.get("/customers",{params:{page:1,per_page:50,search:l||void 0,status:"active"},noCache:!0}),s=((t=a.data)==null?void 0:t.data)??a.data??{};B.value=s.items||[]}catch(a){console.error("Failed to fetch customers:",a),B.value=[]}finally{oe.value=!1}},fe=async l=>{var s;const t=Number(l||0);if(!(!t||(B.value||[]).some(v=>Number(v.id)===t)))try{const v=await de.get(`/customers/${t}`,{noCache:!0}),f=((s=v.data)==null?void 0:s.data)??v.data??null;f&&f.id&&(B.value=[f,...B.value||[]])}catch{}},ye=()=>{ne&&clearTimeout(ne),ne=setTimeout(()=>{ue(se.value)},350)},R=D(()=>{const l=d.appointments.items||[];let t=0,a=0,s=l.length;return l.forEach(f=>{f.status==="approved"?t++:f.status==="pending"&&a++}),{approved:t,pending:a,total:s,revenue:0}}),O=D(()=>{const l=d.appointments.items||[],t=new Map,a=new Set;return l.forEach(s=>{const v=`${s.staff_id||0}-${s.service_id||0}`;t.has(v)||t.set(v,{key:v,staffId:s.staff_id,serviceId:s.service_id,employeeName:me(s.staff_id),serviceName:_e(s.service_id),total:0,approved:0,pending:0,rejected:0,cancelled:0,customersSet:new Set,newCustomers:0,revenue:0});const f=t.get(v);if(f.total++,s.status==="approved"?f.approved++:s.status==="pending"?f.pending++:s.status==="rejected"?f.rejected++:s.status==="cancelled"&&f.cancelled++,s.customer_id){f.customersSet.add(s.customer_id);const ae=String(s.customer_id);a.has(ae)||(f.newCustomers++,a.add(ae))}}),Array.from(t.values()).map(s=>({...s,customersTotal:s.customersSet.size}))}),N=D(()=>O.value.reduce((t,a)=>(t.total+=a.total,t.approved+=a.approved,t.pending+=a.pending,t.rejected+=a.rejected,t.cancelled+=a.cancelled,t.customersTotal+=a.customersTotal,t.newCustomers+=a.newCustomers,t.revenue+=a.revenue,t),{total:0,approved:0,pending:0,rejected:0,cancelled:0,customersTotal:0,newCustomers:0,revenue:0})),Ce=D(()=>[{id:"services",label:i("booking.services"),icon:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2",count:d.services.items.length},{id:"staff",label:i("booking.staff"),icon:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z",count:d.staff.items.length},{id:"appointments",label:i("booking.appointments"),icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",count:d.appointments.items.length}]);$e(()=>{var l;if(d.fetchServices(),d.fetchStaff(),d.fetchAppointments(),((l=ce.query)==null?void 0:l.action)==="create"){j.value="appointments",q(null);const t={...ce.query};delete t.action,re.replace({query:t})}});const ve=l=>{M.value=l,te.value=!0},P=()=>{te.value=!1,M.value=null},L=(l=null)=>{F.value=l,l?(m.title=l.title,m.category_id=l.category_id||"",m.duration=l.duration,m.price=l.price):(m.title="",m.category_id="",m.duration=60,m.price=0),W.value=!0},K=()=>{W.value=!1,F.value=null,m.title="",m.category_id="",m.duration=60,m.price=0},we=async()=>{C.value=!0;try{const l={title:m.title,category_id:m.category_id,duration:m.duration,price:m.price};F.value?await d.updateService(F.value.id,l):await d.createService(l),await d.fetchServices(),K()}catch(l){console.error("Failed to save service:",l),alert(i("booking.failedToSave"))}finally{C.value=!1}},pe=async l=>{if(confirm(i("booking.deleteServiceConfirm")))try{await d.deleteService(l),await d.fetchServices()}catch(t){console.error("Failed to delete service:",t),alert(i("booking.failedToDelete"))}},ie=(l=null)=>{H.value=l,l?S.value={full_name:l.full_name,email:l.email,phone:l.phone||""}:S.value={full_name:"",email:"",phone:""},Z.value=!0},Q=()=>{Z.value=!1,H.value=null,S.value={full_name:"",email:"",phone:""}},Se=async()=>{C.value=!0;try{H.value?await d.updateStaff(H.value.id,S.value):await d.createStaff(S.value),await d.fetchStaff(),Q()}catch(l){console.error("Failed to save staff:",l),alert(i("booking.failedToSave"))}finally{C.value=!1}},Me=async l=>{if(confirm(i("booking.deleteStaffConfirm")))try{await d.deleteStaff(l),await d.fetchStaff()}catch(t){console.error("Failed to delete staff:",t),alert(i("booking.failedToDelete"))}},Ae=()=>{d.appointments.filters={...$.value},d.fetchAppointments()},Ve=async l=>{if(confirm(i("booking.deleteAppointmentConfirm")))try{await d.deleteAppointment(l),await d.fetchAppointments()}catch(t){console.error("Failed to delete appointment:",t),alert(i("booking.failedToDelete"))}},xe=()=>{if(j.value="appointments",E.value="calendar",!d.services.items||d.services.items.length===0){j.value="services",alert(i("booking.noServicesFound"));return}q(null)},q=l=>{var t,a;z.value=l||null,l?p.value={customer_id:Number(l.customer_id||0),staff_id:Number(l.staff_id||0),service_id:Number(l.service_id||0),booking_date:l.booking_date||"",booking_time:l.booking_time||"",status:l.status||"pending",notes:l.notes||""}:p.value={customer_id:0,staff_id:0,service_id:Number(((a=(t=d.services.items)==null?void 0:t[0])==null?void 0:a.id)||0),booking_date:new Date().toISOString().slice(0,10),booking_time:"10:00",status:"pending",notes:""},ee.value=!0,(!B.value||B.value.length===0)&&ue(""),fe(p.value.customer_id)},X=()=>{ee.value=!1,z.value=null},je=async()=>{var l;if(!p.value.customer_id||!p.value.service_id||!p.value.booking_date||!p.value.booking_time){alert("Customer, service, date and time are required.");return}C.value=!0;try{const t={customer_id:Number(p.value.customer_id),service_id:Number(p.value.service_id),staff_id:p.value.staff_id?Number(p.value.staff_id):null,booking_date:p.value.booking_date,booking_time:p.value.booking_time,status:p.value.status,notes:p.value.notes};(l=z.value)!=null&&l.id?await d.updateAppointment(z.value.id,t):await d.createAppointment(t),await d.fetchAppointments(),X()}catch(t){console.error("Failed to save appointment:",t),alert("Failed to save booking")}finally{C.value=!1}},T=l=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(l),le=(l,t)=>{if(!l)return"";const a=new Date(l);return t==="day"?a.getDate():t==="month"?a.toLocaleDateString("en-US",{month:"short"}):t==="time"?a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):a.toLocaleDateString()},Be=l=>l.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2),_e=l=>{const t=d.services.items.find(a=>a.id===l);return t?t.title:`Service #${l}`},me=l=>{const t=d.staff.items.find(a=>a.id===l);return t?t.full_name:`Staff #${l}`},he=l=>(d.appointments.items||[]).filter(a=>a.service_id===l).length,Ne=async l=>{var t,a,s;try{const v=await de.post(`/bookings/${l.id}/checkout`,{payment_method:"cash",additional_items:[]});(t=v.data)!=null&&t.data&&(alert(i("booking.checkoutSuccess")||"Checkout completed successfully"),await d.fetchAppointments(),re.push(`/orders/${v.data.data.order_id}`))}catch(v){console.error("Error checking out booking:",v),alert(((s=(a=v.response)==null?void 0:a.data)==null?void 0:s.message)||i("booking.checkoutError")||"Error during checkout")}},Y=D(()=>{const l=d.services.items||[],t=d.appointments.items||[];return l.map(a=>{const v=t.filter(Te=>Te.service_id===a.id).length,f=a.duration;return{serviceId:a.id,serviceName:a.title,duration:a.duration,price:a.price,appointmentsCount:v,revenue:0,avgDuration:f,service:a}})}),ge=D(()=>Y.value.reduce((t,a)=>(t.appointmentsCount+=a.appointmentsCount,t.revenue+=a.revenue,t),{appointmentsCount:0,revenue:0}));return(l,t)=>{const a=Fe("router-link");return u(),r("div",Re,[e("div",Oe,[t[32]||(t[32]=e("div",{class:"header-logo-bg"},[e("img",{src:"https://asmaaljarallah.com/wp-content/uploads/2021/09/logo_light.png",alt:"Asmaa Logo",class:"header-logo-image"})],-1)),e("div",Pe,[e("div",Ke,[t[28]||(t[28]=e("div",{class:"header-icon"},[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])],-1)),e("div",Qe,[e("h1",Xe,n(o(i)("booking.title")),1),e("p",Ye,n(o(i)("booking.subtitle")),1)])]),e("div",Ge,[c(U,{label:o(i)("booking.totalServices"),value:o(d).services.items.length,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-spreadsheet"})]),_:1},8,["label","value"]),c(U,{label:o(i)("booking.totalStaff"),value:o(d).staff.items.length,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-user"})]),_:1},8,["label","value"]),c(U,{label:o(i)("booking.totalAppointments"),value:o(d).appointments.items.length,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-calendar"})]),_:1},8,["label","value"])]),e("div",Je,[e("button",{class:"btn btn-primary",onClick:xe},[t[29]||(t[29]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),k(" "+n(o(i)("booking.addBooking")||o(i)("booking.addAppointment")),1)]),c(a,{to:"/bookings/settings",class:"btn btn-secondary"},{default:g(()=>[t[30]||(t[30]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),k(" "+n(o(i)("booking.settingsButton")),1)]),_:1}),c(a,{to:"/bookings/appearance",class:"btn btn-secondary"},{default:g(()=>[t[31]||(t[31]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})],-1)),k(" "+n(o(i)("booking.appearanceButton")),1)]),_:1})])])]),e("div",We,[e("div",Ze,[(u(!0),r(A,null,V(Ce.value,s=>(u(),r("button",{key:s.id,onClick:v=>j.value=s.id,class:ke(["tab-button",{active:j.value===s.id}])},[(u(),r("svg",tt,[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:s.icon},null,8,ot)])),e("span",st,n(s.label),1),s.count!==void 0?(u(),r("span",nt,n(s.count),1)):y("",!0)],10,et))),128))])]),e("div",it,[h(e("div",lt,[e("div",at,[e("h2",dt,n(o(i)("booking.services")),1),e("div",ct,[c(a,{to:"/bookings/categories",class:"btn btn-secondary"},{default:g(()=>[t[33]||(t[33]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),k(" "+n(o(i)("booking.manageCategories")),1)]),_:1}),e("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=s=>L())},[t[34]||(t[34]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),k(" "+n(o(i)("booking.addService")),1)])])]),o(d).services.loading?(u(),r("div",rt,[t[35]||(t[35]=e("div",{class:"spinner"},null,-1)),e("p",null,n(o(i)("booking.loadingServices")),1)])):o(d).services.items.length===0?(u(),r("div",ut,[t[36]||(t[36]=e("svg",{class:"empty-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})],-1)),e("p",null,n(o(i)("booking.noServicesFound")),1),e("button",{class:"btn btn-primary",onClick:t[1]||(t[1]=s=>L())},n(o(i)("booking.addFirstService")),1)])):(u(),r("div",vt,[e("div",pt,[e("div",_t,[e("div",null,[e("h3",mt,n(o(i)("booking.servicesAnalyticsTitle")),1),e("p",ht,n(o(i)("booking.servicesAnalyticsSubtitle")),1)])]),e("div",gt,[e("table",kt,[e("thead",null,[e("tr",bt,[e("th",ft,n(o(i)("booking.serviceName")),1),e("th",yt,n(o(i)("booking.duration")),1),e("th",Ct,n(o(i)("booking.price")),1),e("th",wt,n(o(i)("booking.analyticsAppointments")),1),e("th",St,n(o(i)("booking.analyticsRevenue")),1),e("th",Mt,n(o(i)("booking.averageAppointmentDuration")),1),e("th",At,n(o(i)("booking.actions")),1)])]),e("tbody",null,[Y.value.length===0?(u(),r("tr",Vt,[e("td",xt,n(o(i)("booking.analyticsNoData")),1)])):y("",!0),(u(!0),r(A,null,V(Y.value,s=>(u(),r("tr",{key:s.serviceId,class:"service-analytics-row"},[e("td",jt,[e("div",Bt,[e("strong",Nt,n(s.serviceName),1)])]),e("td",Tt,[c(o(x),{class:"unified-badge duration-badge"},{default:g(()=>[c(o(_),{icon:"cil-clock",class:"badge-icon"}),e("span",null,n(s.duration)+" "+n(o(i)("booking.minutes")),1)]),_:2},1024)]),e("td",$t,[e("strong",Ut,[c(o(_),{icon:"cil-money",class:"money-icon"}),k(" "+n(T(s.price)),1)])]),e("td",Dt,[c(o(x),{class:"unified-badge appointments-badge"},{default:g(()=>[c(o(_),{icon:"cil-calendar",class:"badge-icon"}),e("span",null,n(s.appointmentsCount),1)]),_:2},1024)]),e("td",Ft,[e("strong",Ht,[c(o(_),{icon:"cil-dollar",class:"money-icon"}),k(" "+n(T(s.revenue)),1)])]),e("td",zt,[e("span",Lt,n(s.avgDuration)+" "+n(o(i)("booking.minutes")),1)]),e("td",qt,[e("div",It,[e("button",{class:"action-btn",onClick:v=>ve(s.service),title:o(i)("common.view")},[c(o(_),{icon:"cil-info"})],8,Et),e("button",{class:"action-btn",onClick:v=>L(s.service),title:o(i)("booking.edit")},[c(o(_),{icon:"cil-pencil"})],8,Rt),e("button",{class:"action-btn",onClick:v=>pe(s.serviceId),title:o(i)("booking.delete")},[c(o(_),{icon:"cil-trash"})],8,Ot)])])]))),128)),Y.value.length>0?(u(),r("tr",Pt,[e("td",Kt,[e("strong",null,n(o(i)("booking.analyticsTotalLabel")),1)]),e("td",null,[e("strong",null,n(ge.value.appointmentsCount),1)]),e("td",null,[e("strong",null,n(T(ge.value.revenue)),1)]),t[37]||(t[37]=e("td",{colspan:"2"},null,-1))])):y("",!0)])])])]),e("div",Qt,[(u(!0),r(A,null,V(o(d).services.items,s=>(u(),r("div",{key:s.id,class:"service-card"},[e("div",Xt,[e("h3",Yt,n(s.title),1),e("div",Gt,[e("button",{class:"action-btn-card",onClick:v=>ve(s),title:o(i)("common.view")},[c(o(_),{icon:"cil-info"})],8,Jt),e("button",{class:"action-btn-card",onClick:v=>L(s),title:o(i)("booking.edit")},[c(o(_),{icon:"cil-pencil"})],8,Wt),e("button",{class:"action-btn-card",onClick:v=>pe(s.id),title:o(i)("booking.delete")},[c(o(_),{icon:"cil-trash"})],8,Zt)])]),e("div",eo,[e("div",to,[e("div",oo,[e("span",so,n(o(i)("booking.duration"))+":",1),e("span",no,n(s.duration)+" "+n(o(i)("booking.minutes")),1)]),e("div",io,[e("span",lo,n(o(i)("booking.price"))+":",1),e("span",ao,n(T(s.price)),1)]),e("div",co,[e("span",ro,n(o(i)("booking.appointmentsBooked"))+":",1),e("span",uo,n(he(s.id)),1)])])])]))),128))])]))],512),[[G,j.value==="services"]]),h(e("div",vo,[e("div",po,[e("h2",_o,n(o(i)("booking.staff")),1),e("button",{class:"btn btn-primary",onClick:t[2]||(t[2]=s=>ie())},[t[38]||(t[38]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),k(" "+n(o(i)("booking.addStaff")),1)])]),o(d).staff.loading?(u(),r("div",mo,[t[39]||(t[39]=e("div",{class:"spinner"},null,-1)),e("p",null,n(o(i)("booking.loadingStaff")),1)])):o(d).staff.items.length===0?(u(),r("div",ho,[t[40]||(t[40]=e("svg",{class:"empty-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),e("p",null,n(o(i)("booking.noStaffFound")),1),e("button",{class:"btn btn-primary",onClick:t[3]||(t[3]=s=>ie())},n(o(i)("booking.addFirstStaff")),1)])):(u(),r("div",go,[(u(!0),r(A,null,V(o(d).staff.items,s=>(u(),r("div",{key:s.id,class:"staff-card"},[e("div",ko,[e("span",null,n(Be(s.full_name)),1)]),e("div",bo,[e("h3",fo,n(s.full_name),1),e("div",yo,[e("div",Co,[t[41]||(t[41]=e("svg",{class:"detail-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})],-1)),e("span",null,n(s.email),1)]),s.phone?(u(),r("div",wo,[t[42]||(t[42]=e("svg",{class:"detail-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})],-1)),e("span",null,n(s.phone),1)])):y("",!0)])]),e("div",So,[e("button",{class:"action-btn edit",onClick:v=>ie(s),title:o(i)("booking.edit")},[...t[43]||(t[43]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])],8,Mo),e("button",{class:"action-btn delete",onClick:v=>Me(s.id),title:o(i)("booking.delete")},[...t[44]||(t[44]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ao)])]))),128))]))],512),[[G,j.value==="staff"]]),h(e("div",Vo,[e("div",xo,[e("h2",jo,n(o(i)("booking.appointments")),1),e("button",{class:"btn btn-primary",onClick:t[4]||(t[4]=s=>q())},[t[45]||(t[45]=e("svg",{class:"btn-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1)),k(" "+n(o(i)("booking.addAppointment")),1)])]),c(qe,{appointments:o(d).appointments.items,services:o(d).services.items,staff:o(d).staff.items,viewMode:E.value,"onUpdate:viewMode":t[5]||(t[5]=s=>E.value=s),locale:o(be).locale,onEventClick:q,onDateClick:l.handleCalendarDateClick},null,8,["appointments","services","staff","viewMode","locale","onDateClick"]),h(e("div",Bo,[e("div",No,[h(e("input",{"onUpdate:modelValue":t[6]||(t[6]=s=>$.value.date_from=s),type:"date",class:"filter-input",placeholder:o(i)("booking.dateFrom")},null,8,To),[[w,$.value.date_from]]),h(e("input",{"onUpdate:modelValue":t[7]||(t[7]=s=>$.value.date_to=s),type:"date",class:"filter-input",placeholder:o(i)("booking.dateTo")},null,8,$o),[[w,$.value.date_to]]),h(e("select",{"onUpdate:modelValue":t[8]||(t[8]=s=>$.value.status=s),class:"filter-select"},[e("option",Uo,n(o(i)("booking.allStatuses")),1),e("option",Do,n(o(i)("booking.pending")),1),e("option",Fo,n(o(i)("booking.approved")),1),e("option",Ho,n(o(i)("booking.cancelled")),1),e("option",zo,n(o(i)("booking.completed")),1)],512),[[I,$.value.status]]),e("button",{class:"btn btn-secondary",onClick:Ae},n(o(i)("booking.applyFilters")),1)])],512),[[G,E.value==="list"]]),o(d).appointments.loading?(u(),r("div",Lo,[t[46]||(t[46]=e("div",{class:"spinner"},null,-1)),e("p",null,n(o(i)("booking.loadingAppointments")),1)])):o(d).appointments.items.length===0?(u(),r("div",qo,[t[47]||(t[47]=e("svg",{class:"empty-icon",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),e("p",null,n(o(i)("booking.noAppointmentsFound")),1)])):(u(),r("div",Io,[e("div",Eo,[c(U,{label:o(i)("booking.approvedAppointments"),value:R.value.approved,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-check-circle"})]),_:1},8,["label","value"]),c(U,{label:o(i)("booking.pendingAppointments"),value:R.value.pending,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-clock"})]),_:1},8,["label","value"]),c(U,{label:o(i)("booking.totalAppointmentsLabel"),value:R.value.total,color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-calendar"})]),_:1},8,["label","value"]),c(U,{label:o(i)("booking.revenue"),value:T(R.value.revenue),color:"gold"},{icon:g(()=>[c(o(_),{icon:"cil-dollar"})]),_:1},8,["label","value"])]),e("div",Ro,[e("div",Oo,[e("div",null,[e("h3",Po,n(o(i)("booking.analyticsTitle")),1),e("p",Ko,n(o(i)("booking.analyticsSubtitle")),1)])]),e("div",Qo,[e("table",Xo,[e("thead",null,[e("tr",Yo,[e("th",Go,n(o(i)("booking.analyticsEmployee")),1),e("th",Jo,n(o(i)("booking.analyticsService")),1),e("th",Wo,n(o(i)("booking.analyticsAppointments")),1),e("th",Zo,n(o(i)("booking.analyticsCustomers")),1),e("th",es,n(o(i)("booking.analyticsRevenue")),1)]),e("tr",ts,[e("th",os,n(o(i)("booking.total")),1),e("th",ss,n(o(i)("booking.approved")),1),e("th",ns,n(o(i)("booking.pending")),1),e("th",is,n(o(i)("booking.rejected")),1),e("th",ls,n(o(i)("booking.cancelled")),1),e("th",as,n(o(i)("booking.total")),1),e("th",ds,n(o(i)("booking.new")),1)])]),e("tbody",null,[O.value.length===0?(u(),r("tr",cs,[e("td",rs,n(o(i)("booking.analyticsNoData")),1)])):y("",!0),(u(!0),r(A,null,V(O.value,s=>(u(),r("tr",{key:s.key,class:"appointment-analytics-row"},[e("td",us,n(s.employeeName),1),e("td",vs,n(s.serviceName),1),e("td",ps,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.total),1)]),_:2},1024)]),e("td",_s,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.approved),1)]),_:2},1024)]),e("td",ms,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.pending),1)]),_:2},1024)]),e("td",hs,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.rejected),1)]),_:2},1024)]),e("td",gs,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.cancelled),1)]),_:2},1024)]),e("td",ks,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.customersTotal),1)]),_:2},1024)]),e("td",bs,[c(o(x),{class:"unified-badge"},{default:g(()=>[k(n(s.newCustomers),1)]),_:2},1024)]),e("td",fs,[e("strong",ys,n(T(s.revenue)),1)])]))),128)),O.value.length>0?(u(),r("tr",Cs,[e("td",ws,[e("strong",null,n(o(i)("booking.analyticsTotalLabel")),1)]),e("td",null,[e("strong",null,n(N.value.total),1)]),e("td",null,[e("strong",null,n(N.value.approved),1)]),e("td",null,[e("strong",null,n(N.value.pending),1)]),e("td",null,[e("strong",null,n(N.value.rejected),1)]),e("td",null,[e("strong",null,n(N.value.cancelled),1)]),e("td",null,[e("strong",null,n(N.value.customersTotal),1)]),e("td",null,[e("strong",null,n(N.value.newCustomers),1)]),e("td",null,[e("strong",null,n(T(N.value.revenue)),1)])])):y("",!0)])]),e("p",Ss,n(o(i)("booking.analyticsNote")),1)])]),e("div",Ms,[(u(!0),r(A,null,V(o(d).appointments.items,s=>(u(),r("div",{key:s.id,class:"appointment-card"},[e("div",As,[e("div",Vs,n(le(s.start_date,"day")),1),e("div",xs,n(le(s.start_date,"month")),1),e("div",js,n(le(s.start_date,"time")),1)]),e("div",Bs,[e("div",Ns,[e("strong",null,n(_e(s.service_id)),1)]),e("div",Ts,n(o(i)("booking.with"))+": "+n(me(s.staff_id)),1),e("div",$s,[e("span",{class:ke(["status-badge",s.status])},n(o(i)(`booking.${s.status}`)),3)])]),e("div",Us,[s.status==="completed"||s.status==="in_progress"?(u(),r("button",{key:0,class:"action-btn action-btn-checkout",onClick:v=>Ne(s),title:o(i)("booking.checkout")||"Checkout"},[c(o(_),{icon:"cil-cart"})],8,Ds)):y("",!0),e("button",{class:"action-btn",onClick:v=>q(s),title:o(i)("booking.edit")},[c(o(_),{icon:"cil-pencil"})],8,Fs),e("button",{class:"action-btn",onClick:v=>Ve(s.id),title:o(i)("booking.delete")},[c(o(_),{icon:"cil-trash"})],8,Hs)])]))),128))])]))],512),[[G,j.value==="appointments"]])]),te.value?(u(),r("div",{key:0,class:"modal-overlay",onClick:P},[e("div",{class:"modal-content modal-content-large",onClick:t[10]||(t[10]=J(()=>{},["stop"]))},[e("div",zs,[e("h3",null,[c(o(_),{icon:"cil-spreadsheet",class:"me-2"}),k(" "+n(o(i)("booking.serviceDetails")||"Service Details"),1)]),e("button",{class:"modal-close",onClick:P},[c(o(_),{icon:"cil-x"})])]),M.value?(u(),r("div",Ls,[e("div",qs,[e("div",Is,[e("div",Es,[c(o(_),{icon:"cil-spreadsheet"})]),e("div",Rs,[e("h4",Os,n(M.value.title),1)])]),e("div",Ps,[e("div",Ks,[c(o(_),{icon:"cil-clock",class:"stat-icon"}),e("div",Qs,[e("div",Xs,n(o(i)("booking.duration")),1),e("div",Ys,n(M.value.duration)+" "+n(o(i)("booking.minutes")),1)])]),e("div",Gs,[c(o(_),{icon:"cil-money",class:"stat-icon"}),e("div",Js,[e("div",Ws,n(o(i)("booking.price")),1),e("div",Zs,n(T(M.value.price)),1)])]),e("div",en,[c(o(_),{icon:"cil-calendar",class:"stat-icon"}),e("div",tn,[e("div",on,n(o(i)("booking.analyticsAppointments")),1),e("div",sn,n(he(M.value.id)),1)])])]),e("div",nn,[M.value.category_id?(u(),r("div",ln,[e("div",an,[c(o(_),{icon:"cil-tag",class:"me-2"}),k(" "+n(o(i)("booking.category")),1)]),e("div",dn,n(M.value.category_id),1)])):y("",!0)])])])):y("",!0),e("div",cn,[e("button",{class:"btn btn-secondary",onClick:P},n(o(i)("booking.close")||"Close"),1),e("button",{class:"btn btn-primary",onClick:t[9]||(t[9]=()=>{P(),L(M.value)})},[c(o(_),{icon:"cil-pencil",class:"me-2"}),k(" "+n(o(i)("booking.edit")),1)])])])])):y("",!0),W.value?(u(),r("div",{key:1,class:"modal-overlay",onClick:K},[e("div",{class:"modal-content",onClick:t[14]||(t[14]=J(()=>{},["stop"]))},[e("div",rn,[e("h3",null,n(F.value?o(i)("booking.editService"):o(i)("booking.addService")),1),e("button",{class:"modal-close",onClick:K},[...t[48]||(t[48]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",un,[e("div",vn,[e("label",null,n(o(i)("booking.serviceName"))+" *",1),h(e("input",{"onUpdate:modelValue":t[11]||(t[11]=s=>m.value.title=s),type:"text",class:"form-input",required:""},null,512),[[w,m.value.title]])]),e("div",pn,[e("div",_n,[e("label",null,n(o(i)("booking.duration"))+" ("+n(o(i)("booking.minutes"))+") *",1),h(e("input",{"onUpdate:modelValue":t[12]||(t[12]=s=>m.value.duration=s),type:"number",class:"form-input",min:"1",required:""},null,512),[[w,m.value.duration,void 0,{number:!0}]])]),e("div",mn,[e("label",null,n(o(i)("booking.price"))+" *",1),h(e("input",{"onUpdate:modelValue":t[13]||(t[13]=s=>m.value.price=s),type:"number",class:"form-input",step:"0.01",min:"0",required:""},null,512),[[w,m.value.price,void 0,{number:!0}]])])])]),e("div",hn,[e("button",{class:"btn btn-secondary",onClick:K},n(o(i)("booking.cancel")),1),e("button",{class:"btn btn-primary",onClick:we,disabled:C.value},n(C.value?o(i)("booking.saving"):o(i)("booking.save")),9,gn)])])])):y("",!0),Z.value?(u(),r("div",{key:2,class:"modal-overlay",onClick:Q},[e("div",{class:"modal-content",onClick:t[18]||(t[18]=J(()=>{},["stop"]))},[e("div",kn,[e("h3",null,n(H.value?o(i)("booking.editStaff"):o(i)("booking.addStaff")),1),e("button",{class:"modal-close",onClick:Q},[...t[49]||(t[49]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",bn,[e("div",fn,[e("label",null,n(o(i)("booking.fullName"))+" *",1),h(e("input",{"onUpdate:modelValue":t[15]||(t[15]=s=>S.value.full_name=s),type:"text",class:"form-input",required:""},null,512),[[w,S.value.full_name]])]),e("div",yn,[e("label",null,n(o(i)("booking.email"))+" *",1),h(e("input",{"onUpdate:modelValue":t[16]||(t[16]=s=>S.value.email=s),type:"email",class:"form-input",required:""},null,512),[[w,S.value.email]])]),e("div",Cn,[e("label",null,n(o(i)("booking.phone")),1),h(e("input",{"onUpdate:modelValue":t[17]||(t[17]=s=>S.value.phone=s),type:"tel",class:"form-input"},null,512),[[w,S.value.phone]])])]),e("div",wn,[e("button",{class:"btn btn-secondary",onClick:Q},n(o(i)("booking.cancel")),1),e("button",{class:"btn btn-primary",onClick:Se,disabled:C.value},n(C.value?o(i)("booking.saving"):o(i)("booking.save")),9,Sn)])])])):y("",!0),ee.value?(u(),r("div",{key:3,class:"modal-overlay",onClick:X},[e("div",{class:"modal-content",onClick:t[27]||(t[27]=J(()=>{},["stop"]))},[e("div",Mn,[e("h3",null,n(z.value?"Edit Booking":"Add Booking"),1),e("button",{class:"modal-close",onClick:X},[...t[50]||(t[50]=[e("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",An,[e("div",Vn,[e("div",xn,[e("label",null,n(o(i)("invoices.customer")||"Customer")+" *",1),h(e("input",{"onUpdate:modelValue":t[19]||(t[19]=s=>se.value=s),type:"text",class:"form-input",placeholder:o(i)("common.search")||"Search...",onInput:ye},null,40,jn),[[w,se.value]]),h(e("select",{"onUpdate:modelValue":t[20]||(t[20]=s=>p.value.customer_id=s),class:"form-input",required:""},[e("option",Bn,n(o(i)("common.select")||"Select..."),1),oe.value?(u(),r("option",Nn,"Loading...")):y("",!0),(u(!0),r(A,null,V(B.value,s=>(u(),r("option",{key:s.id,value:Number(s.id)},n(s.name||"â€”")+n(s.phone?` (${s.phone})`:""),9,Tn))),128))],512),[[I,p.value.customer_id,void 0,{number:!0}]])]),e("div",$n,[t[52]||(t[52]=e("label",null,"Status",-1)),h(e("select",{"onUpdate:modelValue":t[21]||(t[21]=s=>p.value.status=s),class:"form-input"},[...t[51]||(t[51]=[e("option",{value:"pending"},"Pending",-1),e("option",{value:"confirmed"},"Confirmed",-1),e("option",{value:"completed"},"Completed",-1),e("option",{value:"cancelled"},"Cancelled",-1)])],512),[[I,p.value.status]])])]),e("div",Un,[e("div",Dn,[t[54]||(t[54]=e("label",null,"Service *",-1)),h(e("select",{"onUpdate:modelValue":t[22]||(t[22]=s=>p.value.service_id=s),class:"form-input",required:""},[t[53]||(t[53]=e("option",{value:0,disabled:""},"Select service...",-1)),(u(!0),r(A,null,V(o(d).services.items,s=>(u(),r("option",{key:s.id,value:Number(s.id)},n(s.title),9,Fn))),128))],512),[[I,p.value.service_id,void 0,{number:!0}]])]),e("div",Hn,[t[56]||(t[56]=e("label",null,"Staff",-1)),h(e("select",{"onUpdate:modelValue":t[23]||(t[23]=s=>p.value.staff_id=s),class:"form-input"},[t[55]||(t[55]=e("option",{value:0},"Any",-1)),(u(!0),r(A,null,V(o(d).staff.items,s=>(u(),r("option",{key:s.id,value:Number(s.id)},n(s.full_name),9,zn))),128))],512),[[I,p.value.staff_id,void 0,{number:!0}]])])]),e("div",Ln,[e("div",qn,[t[57]||(t[57]=e("label",null,"Date *",-1)),h(e("input",{"onUpdate:modelValue":t[24]||(t[24]=s=>p.value.booking_date=s),type:"date",class:"form-input",required:""},null,512),[[w,p.value.booking_date]])]),e("div",In,[t[58]||(t[58]=e("label",null,"Time *",-1)),h(e("input",{"onUpdate:modelValue":t[25]||(t[25]=s=>p.value.booking_time=s),type:"time",class:"form-input",required:""},null,512),[[w,p.value.booking_time]])])]),e("div",En,[t[59]||(t[59]=e("label",null,"Notes",-1)),h(e("textarea",{"onUpdate:modelValue":t[26]||(t[26]=s=>p.value.notes=s),class:"form-input",rows:"3",placeholder:"Optional notes..."},null,512),[[w,p.value.notes]])])]),e("div",Rn,[e("button",{class:"btn btn-secondary",onClick:X},n(o(i)("booking.cancel")),1),e("button",{class:"btn btn-primary",onClick:je,disabled:C.value},n(C.value?o(i)("booking.saving"):o(i)("booking.save")),9,On)])])])):y("",!0),c(Ie,{"page-key":"booking"})])}}},di=Ee(Pn,[["__scopeId","data-v-6561e042"]]);export{di as default};
