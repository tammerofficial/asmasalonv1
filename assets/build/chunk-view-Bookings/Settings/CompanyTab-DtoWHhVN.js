import{f as p,w as L,c as v,o as b,b as e,t as n,u as l,R as u,S as m,a as f,n as h,X as I}from"../../chunk-vendor-vue-9XB69CcG.js";import{a as U}from"../../chunk-component-Sidebar-DJAs5d4w.js";import{u as V}from"../../chunk-component-NotificationsBell-Dr2jTnD2.js";import{_ as D}from"../../chunk-component-Card-CPZTx4Dn.js";const S={class:"settings-tab"},C={class:"tab-header"},N={class:"tab-description"},T={class:"form-group"},j=["placeholder"],B={class:"form-group"},O=["placeholder"],E={class:"form-row"},M={class:"form-group"},R={class:"form-group"},z={key:0,class:"form-error"},F={class:"form-group"},X={key:0,class:"form-error"},$={class:"form-group"},q=["placeholder"],A={class:"form-text"},G={class:"form-actions"},H=["disabled"],J={__name:"CompanyTab",props:{settings:{type:Object,default:()=>({})}},emits:["save"],setup(_,{emit:g}){const a=U(),{t:s}=V(),y=_,k=g,o=p({name:"",address:"",phone:"",email:"",website:"",logo:""}),c=p(!1),r=p({});L(()=>y.settings,d=>{d&&Object.keys(d).length>0&&(o.value={...o.value,...d})},{immediate:!0,deep:!0});const w=()=>(r.value={},o.value.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value.email)&&(r.value.email=a.locale==="ar"?"البريد الإلكتروني غير صالح":"Invalid email address"),o.value.website&&!/^https?:\/\/.+/.test(o.value.website)&&(r.value.website=a.locale==="ar"?"الرابط يجب أن يبدأ بـ http:// أو https://":"URL must start with http:// or https://"),Object.keys(r.value).length===0),x=async()=>{if(w()){c.value=!0;try{await k("save","company",o.value)}finally{c.value=!1}}};return(d,t)=>(b(),v("div",S,[e("div",C,[e("h2",null,n(l(s)("booking.companyInfo",l(a).locale)),1),e("p",N,n(l(s)("booking.companyInfoDesc",l(a).locale)),1)]),e("form",{onSubmit:I(x,["prevent"]),class:"settings-form"},[e("div",T,[e("label",null,n(l(s)("booking.companyNameLabel",l(a).locale)),1),u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=i=>o.value.name=i),class:"form-control",placeholder:l(s)("booking.companyNameLabel",l(a).locale)},null,8,j),[[m,o.value.name]])]),e("div",B,[e("label",null,n(l(s)("booking.addressLabel",l(a).locale)),1),u(e("textarea",{"onUpdate:modelValue":t[1]||(t[1]=i=>o.value.address=i),class:"form-control",rows:"3",placeholder:l(s)("booking.addressLabel",l(a).locale)},null,8,O),[[m,o.value.address]])]),e("div",E,[e("div",M,[e("label",null,n(l(s)("booking.phoneLabel",l(a).locale)),1),u(e("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=i=>o.value.phone=i),class:"form-control",placeholder:"+965 12345678"},null,512),[[m,o.value.phone]])]),e("div",R,[e("label",null,n(l(s)("booking.emailLabel",l(a).locale)),1),u(e("input",{type:"email","onUpdate:modelValue":t[3]||(t[3]=i=>o.value.email=i),class:h(["form-control",{"is-invalid":r.value.email}]),placeholder:"info@example.com"},null,2),[[m,o.value.email]]),r.value.email?(b(),v("small",z,n(r.value.email),1)):f("",!0)])]),e("div",F,[e("label",null,n(l(s)("booking.websiteLabel",l(a).locale)),1),u(e("input",{type:"url","onUpdate:modelValue":t[4]||(t[4]=i=>o.value.website=i),class:h(["form-control",{"is-invalid":r.value.website}]),placeholder:"https://example.com"},null,2),[[m,o.value.website]]),r.value.website?(b(),v("small",X,n(r.value.website),1)):f("",!0)]),e("div",$,[e("label",null,n(l(s)("booking.logoLabel",l(a).locale)),1),u(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=i=>o.value.logo=i),class:"form-control",placeholder:l(a).locale==="ar"?"معرف الصورة":"Image ID"},null,8,q),[[m,o.value.logo,void 0,{number:!0}]]),e("small",A,n(l(a).locale==="ar"?"أدخل معرف الصورة من مكتبة الوسائط":"Enter image ID from media library"),1)]),e("div",G,[e("button",{type:"submit",class:"btn btn-primary",disabled:c.value},n(c.value?l(s)("booking.savingSettings",l(a).locale):l(s)("booking.saveSettings",l(a).locale)),9,H)])],32)]))}},Y=D(J,[["__scopeId","data-v-e65fadf6"]]);export{Y as C};
