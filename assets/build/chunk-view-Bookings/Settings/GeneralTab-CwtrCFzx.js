import{f as p,i as U,c as r,o as c,b as o,t,u as e,R as m,U as d,n as k,T as _,S as g,X as V}from"../../chunk-vendor-vue-DkCSGS5r.js";import{a as B}from"../../chunk-component-Sidebar-BFH2XEX7.js";import{u as P}from"../../chunk-component-NotificationsBell-CdT4gVQ0.js";import{_ as T}from"../../chunk-component-Card-B6TBnHC7.js";const H={class:"settings-tab"},D={class:"tab-header"},L={class:"tab-description"},z={class:"form-section"},M={class:"section-title"},C={class:"form-group"},j={value:5},G={value:10},O={value:15},A={value:30},E={value:45},I={value:60},W={key:0,class:"form-error"},F={key:1,class:"form-text"},N={class:"form-group"},R={class:"checkbox-label"},X={class:"form-text"},q={class:"form-group"},J={class:"input-group"},K={value:"minutes"},Q={value:"hours"},Y={value:"days"},Z={class:"form-text"},$={class:"form-group"},oo={class:"input-group"},lo={value:"minutes"},eo={value:"hours"},so={value:"days"},to={class:"form-text"},no={class:"form-group"},io={key:0,class:"form-error"},ao={key:1,class:"form-text"},mo={class:"form-group"},uo={class:"checkbox-label"},_o={class:"form-text"},ro={class:"form-section"},co={class:"section-title"},bo={class:"form-group"},vo={class:"checkbox-label"},po={class:"form-section"},go={class:"section-title"},ko={class:"form-group"},fo={class:"form-group"},ho={class:"checkbox-label"},xo={class:"form-group"},yo={class:"checkbox-label"},wo={class:"form-group"},So={class:"form-section"},Uo={class:"section-title"},Vo={class:"form-group"},Bo={class:"checkbox-label"},Po={class:"form-group"},To={class:"checkbox-label"},Ho={class:"form-group"},Do={class:"form-actions"},Lo=["disabled"],zo={__name:"GeneralTab",props:{settings:{type:Object,default:()=>({})}},emits:["save"],setup(f,{emit:h}){const n=B(),{t:i}=P(),x=f,y=h,s=p({time_slot_length:15,slot_as_duration:!1,min_time_booking:0,min_time_booking_unit:"hours",min_time_cancel:0,min_time_cancel_unit:"hours",max_days_booking:365,show_timeslots_client_timezone:!1,allow_staff_edit_profile:!0,prevent_caching:!0,session_mode:"PHP",prevent_session_locking:!1,show_news_notifications:!0,mail_gateway:"wp",powered_by_bookly:!1,data_on_delete:"don't_delete"}),b=p(!1),u=p({});U(()=>x.settings,v=>{v&&Object.keys(v).length>0&&(s.value={...s.value,...v})},{immediate:!0,deep:!0});const w=()=>(u.value={},(s.value.time_slot_length<5||s.value.time_slot_length>120)&&(u.value.time_slot_length="يجب أن تكون الفترة الزمنية بين 5 و 120 دقيقة"),(s.value.max_days_booking<1||s.value.max_days_booking>365)&&(u.value.max_days_booking="يجب أن يكون عدد الأيام بين 1 و 365"),s.value.min_time_booking<0&&(u.value.min_time_booking="يجب أن تكون القيمة 0 أو أكثر"),s.value.min_time_cancel<0&&(u.value.min_time_cancel="يجب أن تكون القيمة 0 أو أكثر"),Object.keys(u.value).length===0),S=async()=>{if(w()){b.value=!0;try{await y("save","general",s.value)}finally{b.value=!1}}};return(v,l)=>(c(),r("div",H,[o("div",D,[o("h2",null,t(e(i)("booking.generalSettings",e(n).locale)),1),o("p",L,t(e(i)("booking.generalSettingsDesc",e(n).locale)),1)]),o("form",{onSubmit:V(S,["prevent"]),class:"settings-form"},[o("div",z,[o("h3",M,t(e(i)("booking.timeSettings",e(n).locale)),1),o("div",C,[o("label",null,t(e(i)("booking.timeSlotLengthLabel",e(n).locale)),1),m(o("select",{"onUpdate:modelValue":l[0]||(l[0]=a=>s.value.time_slot_length=a),class:k(["form-control",{"is-invalid":u.value.time_slot_length}])},[o("option",j,"5 "+t(e(i)("booking.minutes",e(n).locale)),1),o("option",G,"10 "+t(e(i)("booking.minutes",e(n).locale)),1),o("option",O,"15 "+t(e(i)("booking.minutes",e(n).locale)),1),o("option",A,"30 "+t(e(i)("booking.minutes",e(n).locale)),1),o("option",E,"45 "+t(e(i)("booking.minutes",e(n).locale)),1),o("option",I,"60 "+t(e(i)("booking.minutes",e(n).locale)),1)],2),[[d,s.value.time_slot_length]]),u.value.time_slot_length?(c(),r("small",W,t(u.value.time_slot_length),1)):(c(),r("small",F,t(e(i)("booking.timeSlotLengthHint",e(n).locale)),1))]),o("div",N,[o("label",R,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[1]||(l[1]=a=>s.value.slot_as_duration=a),class:"form-checkbox"},null,512),[[_,s.value.slot_as_duration]]),o("span",null,t(e(i)("booking.slotAsDurationLabel",e(n).locale)),1)]),o("small",X,t(e(i)("booking.slotAsDurationHint",e(n).locale)),1)]),o("div",q,[o("label",null,t(e(i)("booking.minTimeBookingLabel",e(n).locale)),1),o("div",J,[m(o("input",{type:"number","onUpdate:modelValue":l[2]||(l[2]=a=>s.value.min_time_booking=a),class:"form-control",min:"0"},null,512),[[g,s.value.min_time_booking,void 0,{number:!0}]]),m(o("select",{"onUpdate:modelValue":l[3]||(l[3]=a=>s.value.min_time_booking_unit=a),class:"form-control",style:{width:"120px"}},[o("option",K,t(e(i)("booking.minutes",e(n).locale)),1),o("option",Q,t(e(i)("booking.hours",e(n).locale)),1),o("option",Y,t(e(i)("booking.days",e(n).locale)),1)],512),[[d,s.value.min_time_booking_unit]])]),o("small",Z,t(e(i)("booking.minTimeBookingHint",e(n).locale)),1)]),o("div",$,[o("label",null,t(e(i)("booking.minTimeCancelLabel",e(n).locale)),1),o("div",oo,[m(o("input",{type:"number","onUpdate:modelValue":l[4]||(l[4]=a=>s.value.min_time_cancel=a),class:"form-control",min:"0"},null,512),[[g,s.value.min_time_cancel,void 0,{number:!0}]]),m(o("select",{"onUpdate:modelValue":l[5]||(l[5]=a=>s.value.min_time_cancel_unit=a),class:"form-control",style:{width:"120px"}},[o("option",lo,t(e(i)("booking.minutes",e(n).locale)),1),o("option",eo,t(e(i)("booking.hours",e(n).locale)),1),o("option",so,t(e(i)("booking.days",e(n).locale)),1)],512),[[d,s.value.min_time_cancel_unit]])]),o("small",to,t(e(i)("booking.minTimeCancelHint",e(n).locale)),1)]),o("div",no,[o("label",null,t(e(i)("booking.maxDaysBookingLabel",e(n).locale)),1),m(o("input",{type:"number","onUpdate:modelValue":l[6]||(l[6]=a=>s.value.max_days_booking=a),class:k(["form-control",{"is-invalid":u.value.max_days_booking}]),min:"1",max:"365"},null,2),[[g,s.value.max_days_booking,void 0,{number:!0}]]),u.value.max_days_booking?(c(),r("small",io,t(u.value.max_days_booking),1)):(c(),r("small",ao,t(e(i)("booking.maxDaysBookingHint",e(n).locale)),1))]),o("div",mo,[o("label",uo,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=a=>s.value.show_timeslots_client_timezone=a),class:"form-checkbox"},null,512),[[_,s.value.show_timeslots_client_timezone]]),o("span",null,t(e(i)("booking.showTimezoneSlotsLabel",e(n).locale)),1)]),o("small",_o,t(e(i)("booking.showTimezoneSlotsHint",e(n).locale)),1)])]),o("div",ro,[o("h3",co,t(e(i)("booking.staffSettings",e(n).locale)),1),o("div",bo,[o("label",vo,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[8]||(l[8]=a=>s.value.allow_staff_edit_profile=a),class:"form-checkbox"},null,512),[[_,s.value.allow_staff_edit_profile]]),o("span",null,t(e(i)("booking.allowStaffEditLabel",e(n).locale)),1)]),l[16]||(l[16]=o("small",{class:"form-text"},"إذا تم تفعيل هذا الخيار، سيتمكن جميع الموظفين المرتبطين بمستخدمي WordPress من تعديل ملفاتهم الشخصية وخدماتهم وجدولهم",-1))])]),o("div",po,[o("h3",go,t(e(i)("booking.systemSettings",e(n).locale)),1),o("div",ko,[l[18]||(l[18]=o("label",null,"وضع تخزين الجلسة",-1)),m(o("select",{"onUpdate:modelValue":l[9]||(l[9]=a=>s.value.session_mode=a),class:"form-control"},[...l[17]||(l[17]=[o("option",{value:"PHP"},"PHP",-1),o("option",{value:"DB"},"قاعدة البيانات",-1)])],512),[[d,s.value.session_mode]]),l[19]||(l[19]=o("small",{class:"form-text"},"اختر مكان تخزين بيانات الجلسة",-1))]),o("div",fo,[o("label",ho,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[10]||(l[10]=a=>s.value.prevent_session_locking=a),class:"form-checkbox"},null,512),[[_,s.value.prevent_session_locking]]),l[20]||(l[20]=o("span",null,"منع قفل جلسة PHP",-1))]),l[21]||(l[21]=o("small",{class:"form-text"},"تفعيل هذا الخيار لجعل Booking يغلق جلسة PHP بمجرد الانتهاء منها",-1))]),o("div",xo,[o("label",yo,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[11]||(l[11]=a=>s.value.prevent_caching=a),class:"form-checkbox"},null,512),[[_,s.value.prevent_caching]]),l[22]||(l[22]=o("span",null,"منع التخزين المؤقت للصفحات التي تحتوي على نموذج الحجز",-1))]),l[23]||(l[23]=o("small",{class:"form-text"},'اختر "مفعّل" إذا كنت تريد أن يمنع Booking التخزين المؤقت بواسطة إضافات التخزين المؤقت',-1))]),o("div",wo,[l[25]||(l[25]=o("label",null,"بوابة البريد",-1)),m(o("select",{"onUpdate:modelValue":l[12]||(l[12]=a=>s.value.mail_gateway=a),class:"form-control"},[...l[24]||(l[24]=[o("option",{value:"wp"},"WordPress mail",-1),o("option",{value:"smtp"},"SMTP",-1)])],512),[[d,s.value.mail_gateway]]),l[26]||(l[26]=o("small",{class:"form-text"},"اختر بوابة البريد التي سيتم استخدامها لإرسال إشعارات البريد الإلكتروني",-1))])]),o("div",So,[o("h3",Uo,t(e(i)("booking.otherSettings",e(n).locale)),1),o("div",Vo,[o("label",Bo,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[13]||(l[13]=a=>s.value.show_news_notifications=a),class:"form-checkbox"},null,512),[[_,s.value.show_news_notifications]]),l[27]||(l[27]=o("span",null,"عرض إشعارات الأخبار",-1))]),l[28]||(l[28]=o("small",{class:"form-text"},"إذا تم تفعيله، سيتم عرض أيقونة إشعار الأخبار",-1))]),o("div",Po,[o("label",To,[m(o("input",{type:"checkbox","onUpdate:modelValue":l[14]||(l[14]=a=>s.value.powered_by_bookly=a),class:"form-checkbox"},null,512),[[_,s.value.powered_by_bookly]]),l[29]||(l[29]=o("span",null,"مدعوم بواسطة Booking",-1))]),l[30]||(l[30]=o("small",{class:"form-text"},'السماح للإضافة بوضع إشعار "مدعوم بواسطة Booking" على عنصر واجهة الحجز',-1))]),o("div",Ho,[l[32]||(l[32]=o("label",null,"بيانات Booking عند حذف عناصر Booking",-1)),m(o("select",{"onUpdate:modelValue":l[15]||(l[15]=a=>s.value.data_on_delete=a),class:"form-control"},[...l[31]||(l[31]=[o("option",{value:"don't_delete"},"لا تحذف",-1),o("option",{value:"delete"},"احذف",-1)])],512),[[d,s.value.data_on_delete]]),l[33]||(l[33]=o("small",{class:"form-text"},'إذا اخترت "احذف"، سيتم حذف جميع البيانات المرتبطة بـ Booking بشكل دائم عند حذف عناصر Booking',-1))])]),o("div",Do,[o("button",{type:"submit",class:"btn btn-primary",disabled:b.value},t(b.value?e(i)("booking.savingSettings",e(n).locale):e(i)("booking.saveSettings",e(n).locale)),9,Lo)])],32)]))}},Oo=T(zo,[["__scopeId","data-v-10a1d90f"]]);export{Oo as G};
