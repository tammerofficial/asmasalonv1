import{f,e as $,j as D,c as r,o as u,b as s,d as e,t as o,u as t,w as _,x as p,C as d,$ as A,l as T,P as h,n as z,a2 as g,Y as y,F as k,g as x}from"./chunk-vendor-vue-Dg0iJD_h.js";import{u as B,a as R}from"./chunk-component-NotificationsBell-B2dAMSJx.js";import"./chunk-view-AppleWallet/Simulator-FWAoI2CS.js";import{H as N}from"./chunk-component-HelpSection-CAMARqlT.js";import{_ as O}from"./chunk-component-Card-BEqwRdY0.js";import"./chunk-vendor-Ltsl4QyH.js";import"./chunk-vendor-pinia-AvH0NMyG.js";import"./chunk-vendor-axios-B9ygI19o.js";import"./chunk-component-PageHeader-CswlebSl.js";const P={class:"dashboard-page p-4"},W={class:"pos-header-top d-flex justify-content-between align-items-center mb-4"},q={class:"header-left"},F={class:"mb-0 fw-bold text-primary"},I={class:"text-muted small mb-0"},K={class:"header-right d-flex gap-2"},L={class:"nano-stats-bar mb-4"},V={class:"stat-card-nano"},j={class:"stat-icon-bg customers"},E={class:"stat-info"},H={class:"stat-value"},M={class:"stat-label"},Y={class:"stat-card-nano"},G={class:"stat-icon-bg bookings"},J={class:"stat-info"},Q={class:"stat-value text-info"},U={class:"stat-label"},X={class:"stat-card-nano"},Z={class:"stat-icon-bg revenue"},ss={class:"stat-info"},ts={class:"stat-value text-success"},os={class:"stat-label"},as={class:"stat-card-nano"},es={class:"stat-icon-bg loyalty"},is={class:"stat-info"},ns={class:"stat-value text-warning"},ls={class:"stat-label"},cs={class:"nano-panel mb-4"},ds={class:"fw-bold mb-4"},rs={class:"nano-grid-actions"},us={class:"action-icon"},_s={class:"action-details"},vs={class:"action-icon"},hs={class:"action-details"},ms={class:"action-icon"},ps={class:"action-details"},bs={class:"action-icon"},fs={class:"action-details"},gs={class:"nano-panel h-100 live-monitor"},ys={class:"d-flex justify-content-between align-items-center mb-4"},ks={class:"fw-bold mb-0"},xs={key:0,class:"text-center py-5 text-muted"},ws={key:1,class:"d-flex flex-column gap-3"},Cs={class:"activity-time me-3 fw-bold text-primary"},Ss={class:"activity-info flex-grow-1"},$s={class:"fw-bold"},Ds={class:"small text-muted"},As={class:"nano-panel h-100 staff-performance"},Ts={class:"fw-bold mb-4"},zs={key:0,class:"text-center py-5 text-muted"},Bs={key:1,class:"d-flex flex-column gap-4"},Rs={class:"stylist-rank me-3 fw-bold fs-4 text-muted"},Ns={class:"stylist-avatar-sm me-3"},Os={class:"stylist-info flex-grow-1"},Ps={class:"fw-bold"},Ws={class:"small text-success"},qs={__name:"Dashboard",setup(Fs){const{t:a}=B();T();const m=f(!1),c=f({customers:0,bookingsToday:0,monthlyRevenue:0,activeStaff:0,totalServices:0,pendingOrders:0}),w=$(()=>new Date().toLocaleDateString("en-KW",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),b=async()=>{var l;m.value=!0;try{const i=await R.get("/dashboard/stats");c.value=((l=i.data)==null?void 0:l.data)||i.data}catch(i){console.error("Dashboard error:",i)}finally{m.value=!1}},C=l=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",notation:"compact",minimumFractionDigits:1}).format(l||0),S=l=>l?new Date(l).toLocaleTimeString("en-KW",{hour:"2-digit",minute:"2-digit"}):"";return D(()=>{b()}),(l,i)=>(u(),r("div",P,[s("div",W,[s("div",q,[s("h2",F,o(t(a)("dashboard.title")||"لوحة التحكم"),1),s("p",I,o(w.value),1)]),s("div",K,[e(t(p),{color:"primary",class:"nano-btn",onClick:i[0]||(i[0]=n=>l.$router.push("/pos"))},{default:_(()=>[e(t(d),{icon:"cil-cart",class:"me-2"}),h(o(t(a)("dashboard.goToPOS")||"انتقل إلى POS"),1)]),_:1}),e(t(p),{color:"secondary",variant:"ghost",onClick:b},{default:_(()=>[e(t(d),{icon:"cil-reload",class:z({spinning:m.value})},null,8,["class"])]),_:1})])]),s("div",L,[s("div",V,[s("div",j,[e(t(d),{icon:"cil-people"})]),s("div",E,[s("div",H,o(c.value.customers||0),1),s("div",M,o(t(a)("dashboard.totalCustomers")||"إجمالي العملاء"),1)])]),s("div",Y,[s("div",G,[e(t(d),{icon:"cil-calendar-check"})]),s("div",J,[s("div",Q,o(c.value.bookingsToday||0),1),s("div",U,o(t(a)("dashboard.todaysBookings")||"حجوزات اليوم"),1)])]),s("div",X,[s("div",Z,[e(t(d),{icon:"cil-money"})]),s("div",ss,[s("div",ts,o(C(c.value.monthlyRevenue||0)),1),s("div",os,o(t(a)("dashboard.monthlyRevenue")||"إيرادات الشهر"),1)])]),s("div",as,[s("div",es,[e(t(d),{icon:"cil-star"})]),s("div",is,[s("div",ns,o(c.value.totalPoints||0),1),s("div",ls,o(t(a)("dashboard.loyaltyPoints")||"نقاط الولاء"),1)])])]),s("div",cs,[s("h4",ds,o(t(a)("dashboard.quickOperations")||"عمليات سريعة"),1),s("div",rs,[s("div",{class:"action-card-nano pos",onClick:i[1]||(i[1]=n=>l.$router.push("/pos"))},[s("div",us,[e(t(d),{icon:"cil-cart",size:"xl"})]),s("div",_s,[s("h6",null,o(t(a)("nav.pos")||"نقطة البيع"),1),s("p",null,o(t(a)("dashboard.processOrders")||"معالجة الطلبات والمدفوعات"),1)])]),s("div",{class:"action-card-nano bookings",onClick:i[2]||(i[2]=n=>l.$router.push("/bookings"))},[s("div",vs,[e(t(d),{icon:"cil-calendar",size:"xl"})]),s("div",hs,[s("h6",null,o(t(a)("nav.bookings")||"الحجوزات"),1),s("p",null,o(t(a)("dashboard.manageAppointments")||"إدارة المواعيد"),1)])]),s("div",{class:"action-card-nano queue",onClick:i[3]||(i[3]=n=>l.$router.push("/queue"))},[s("div",ms,[e(t(d),{icon:"cil-people",size:"xl"})]),s("div",ps,[s("h6",null,o(t(a)("nav.queue")||"الطابور"),1),s("p",null,o(t(a)("dashboard.liveWaitlist")||"إدارة قائمة الانتظار"),1)])]),s("div",{class:"action-card-nano calls",onClick:i[4]||(i[4]=n=>l.$router.push("/worker-calls"))},[s("div",bs,[e(t(d),{icon:"cil-bullhorn",size:"xl"})]),s("div",fs,[s("h6",null,o(t(a)("nav.workerCalls")||"نداءات الموظفات"),1),s("p",null,o(t(a)("dashboard.workerNotifications")||"تنبيهات الموظفات"),1)])])])]),e(t(A),{class:"g-4"},{default:_(()=>[e(t(g),{lg:"8"},{default:_(()=>[s("div",gs,[s("div",ys,[s("h4",ks,o(t(a)("dashboard.liveMonitoring")||"المراقبة المباشرة"),1),e(t(y),{color:"danger",class:"pulse-red"},{default:_(()=>[...i[6]||(i[6]=[h("LIVE",-1)])]),_:1})]),!c.value.recentActivity||c.value.recentActivity.length===0?(u(),r("div",xs,[e(t(d),{icon:"cil-find-in-page",size:"xl",class:"mb-3 opacity-25"}),s("p",null,o(t(a)("dashboard.noRecentActivity")||"لا توجد أنشطة حديثة"),1)])):(u(),r("div",ws,[(u(!0),r(k,null,x(c.value.recentActivity,(n,v)=>(u(),r("div",{key:v,class:"live-activity-item p-3 rounded-4 bg-tertiary border d-flex align-items-center"},[s("div",Cs,o(S(n.created_at)),1),s("div",Ss,[s("div",$s,o(n.name||"عميلة"),1),s("div",Ds,o(n.type==="booking"?"حجز موعد":"طلب جديد"),1)]),e(t(y),{color:n.type==="booking"?"info":"success",shape:"rounded-pill"},{default:_(()=>[h(o(n.type==="booking"?t(a)("dashboard.bookings")||"حجوزات":t(a)("dashboard.orders")||"طلبات"),1)]),_:2},1032,["color"])]))),128))]))])]),_:1}),e(t(g),{lg:"4"},{default:_(()=>[s("div",As,[s("h4",Ts,o(t(a)("dashboard.topStylists")||"أفضل الموظفات"),1),!c.value.topStylists||c.value.topStylists.length===0?(u(),r("div",zs,[s("p",null,o(t(a)("dashboard.noDataYet")||"لا توجد بيانات بعد"),1)])):(u(),r("div",Bs,[(u(!0),r(k,null,x(c.value.topStylists,(n,v)=>(u(),r("div",{key:v,class:"stylist-item d-flex align-items-center"},[s("div",Rs,"#"+o(v+1),1),s("div",Ns,o(n.name.charAt(0)),1),s("div",Os,[s("div",Ps,o(n.name),1),s("div",Ws,o(n.bookings)+" "+o(t(a)("dashboard.bookings")||"حجوزات"),1)])]))),128))])),e(t(p),{color:"primary",variant:"ghost",class:"w-100 mt-5",onClick:i[5]||(i[5]=n=>l.$router.push("/staff"))},{default:_(()=>[h(o(t(a)("dashboard.viewAllStaff")||"مشاهدة جميع الموظفات"),1)]),_:1})])]),_:1})]),_:1}),e(N,{"page-key":"dashboard"})]))}},Gs=O(qs,[["__scopeId","data-v-3e51b2e5"]]);export{Gs as default};
