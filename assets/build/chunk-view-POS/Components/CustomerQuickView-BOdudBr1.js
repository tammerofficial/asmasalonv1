import{u as V}from"../../chunk-component-NotificationsBell-CyBx4swB.js";import{e as m,c as k,a as v,o as r,b as s,d as a,u as t,C as i,t as c,w as d,x as _,s as h,P as y,Y as b}from"../../chunk-vendor-vue-BKzcbwC-.js";import{_ as B}from"../../chunk-component-Card-D7ddNvJz.js";const $={key:0,class:"customer-quick-view"},N={class:"customer-header"},z={class:"customer-avatar"},D={class:"customer-main-info"},I={class:"customer-name"},P={class:"customer-phone"},S={class:"customer-actions"},W={class:"customer-stats"},F={class:"stat-box loyalty"},K={class:"stat-icon"},Q={class:"stat-info"},T={class:"stat-label"},j={class:"stat-value"},q={class:"stat-box visits"},A={class:"stat-icon"},E={class:"stat-info"},L={class:"stat-label"},M={class:"stat-value"},O={class:"stat-box spent"},Y={class:"stat-icon"},G={class:"stat-info"},H={class:"stat-label"},J={class:"stat-value text-nowrap"},R={key:0,class:"customer-badges"},U={__name:"CustomerQuickView",props:{customer:{type:Object,default:null}},setup(o){const{t:l}=V(),u=o,w=m(()=>{var e;return((e=u.customer)==null?void 0:e.loyalty_points)||0}),C=m(()=>{var e;return((e=u.customer)==null?void 0:e.total_visits)||0}),g=m(()=>{var e;return((e=u.customer)==null?void 0:e.total_spent)||0}),f=m(()=>{var e;return(e=u.customer)==null?void 0:e.has_active_membership});function x(e){return new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3}).format(e||0)}return(e,n)=>o.customer?(r(),k("div",$,[s("div",N,[s("div",z,[a(t(i),{icon:"cil-user"})]),s("div",D,[s("div",I,c(o.customer.name||o.customer.customer_name),1),s("div",P,c(o.customer.phone||o.customer.customer_phone),1)]),s("div",S,[a(t(_),{size:"sm",color:"info",variant:"ghost",class:"me-1",onClick:n[0]||(n[0]=p=>e.$emit("view-history",o.customer.id))},{default:d(()=>[a(t(i),{icon:"cil-history"})]),_:1}),a(t(_),{size:"sm",color:"primary",variant:"ghost",onClick:n[1]||(n[1]=p=>e.$emit("view-profile",o.customer.id))},{default:d(()=>[a(t(i),{icon:"cil-external-link"})]),_:1})])]),s("div",W,[s("div",F,[s("div",K,[a(t(i),{icon:"cil-star"})]),s("div",Q,[s("div",T,c(t(l)("loyalty.points")),1),s("div",j,c(w.value),1)])]),s("div",q,[s("div",A,[a(t(i),{icon:"cil-calendar-check"})]),s("div",E,[s("div",L,c(t(l)("customers.totalVisits")||"الزيارات"),1),s("div",M,c(C.value),1)])]),s("div",O,[s("div",Y,[a(t(i),{icon:"cil-money"})]),s("div",G,[s("div",H,c(t(l)("customers.totalSpent")||"الإنفاق"),1),s("div",J,c(x(g.value)),1)])])]),f.value||o.customer.apple_wallet_status?(r(),k("div",R,[f.value?(r(),h(t(b),{key:0,color:"warning",shape:"rounded-pill",class:"me-1"},{default:d(()=>[a(t(i),{icon:"cil-gem",class:"me-1"}),y(" "+c(t(l)("memberships.active")||"عضوية نشطة"),1)]),_:1})):v("",!0),o.customer.apple_wallet_status==="active"?(r(),h(t(b),{key:1,color:"success",shape:"rounded-pill"},{default:d(()=>[a(t(i),{icon:"cil-wallet",class:"me-1"}),y(" "+c(t(l)("loyalty.walletLinked")||"محفظة نشطة"),1)]),_:1})):(r(),h(t(_),{key:2,size:"sm",color:"info",variant:"outline",class:"badge-btn ms-auto",onClick:n[2]||(n[2]=p=>e.$emit("send-wallet-pass",o.customer.id))},{default:d(()=>[a(t(i),{icon:"cil-send",class:"me-1"}),y(" "+c(t(l)("loyalty.sendWalletPass")||"إرسال بطاقة المحفظة"),1)]),_:1}))])):v("",!0)])):v("",!0)}},ts=B(U,[["__scopeId","data-v-6324c18f"]]);export{ts as C};
