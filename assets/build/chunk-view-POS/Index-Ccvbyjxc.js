import{f as v,g as J,i as Ke,c as d,o as c,d as n,b as l,p as r,u as e,q as C,a as y,a5 as le,v as h,O as m,C as f,t as i,F as P,k as N,n as me,X as _e,_ as K,ah as Qe,y as pe,ak as fe,a0 as Oe,a1 as We,$ as w}from"../chunk-vendor-vue-DxcSX1Jd.js";import{u as Ge,a as $,c as ye}from"../chunk-component-NotificationsBell-eCwis6PW.js";import{a as He}from"../chunk-view-Bookings/BookingAppearance-CtCwBfZ1.js";import{P as Xe}from"../chunk-component-PageHeader-BsA6C9en.js";import{_ as je,C as M}from"../chunk-component-Card-BWbCGpFM.js";import{E as R}from"../chunk-component-EmptyState-B78c8qVh.js";import{L as ie}from"../chunk-component-LoadingSpinner-PYO1Yq7-.js";import"../chunk-vendor-BwxB3d-x.js";import"../chunk-vendor-charts-CNHMDSF7.js";import"../chunk-vendor-pinia-DRDRCEXO.js";import"../chunk-vendor-axios-B9ygI19o.js";import"../chunk-component-Sidebar-DOq58Wm8.js";import"../chunk-view-Bookings/BookingFormPreview-BJuYIHYB.js";const Je={class:"pos-page"},Re={class:"pos-layout"},Ye={class:"pos-column pos-column-1"},Ze={key:2,class:"active-customers-list"},et=["onClick"],tt={class:"customer-avatar"},st={class:"customer-info"},at={class:"customer-name"},ot={class:"customer-meta"},lt={class:"customer-service"},it={key:0,class:"customer-staff"},nt={key:1,class:"customer-time"},rt={value:""},ct=["value"],ut={class:"pos-column pos-column-2"},dt={key:2,class:"items-grid"},vt=["onClick"],mt={class:"item-name"},_t={class:"item-price"},pt={key:0,class:"item-category"},ft={key:2,class:"items-grid"},yt=["onClick"],ht={class:"item-name"},bt={class:"item-price"},kt={key:0,class:"item-stock"},gt={key:1,class:"item-sku"},Ct={class:"pos-column pos-column-3"},St={class:"cart-customer mb-3"},qt={class:"form-label"},wt={value:""},Vt=["value"],Pt={class:"cart-items"},Nt={key:1,class:"cart-items-list"},It={class:"cart-item-info"},$t={class:"cart-item-name"},Ut={key:0,class:"cart-item-meta"},xt={class:"cart-item-actions"},Tt={class:"cart-item-quantity"},Lt={class:"quantity-value"},Mt={class:"cart-item-price"},Ft={class:"cart-summary"},Et={class:"summary-row"},Dt={class:"summary-row"},At={class:"summary-row total-row"},Bt={class:"total-amount"},zt={class:"payment-method mb-3"},Kt={class:"form-label"},Qt={value:"cash"},Ot={value:"card"},Wt={value:"knet"},Gt={class:"cart-actions"},Ht={key:0},Xt={class:"mb-3"},jt={class:"form-label"},Jt={class:"mb-3"},Rt={class:"form-label"},Yt={class:"mb-3"},Zt={class:"form-label"},es={value:""},ts=["value"],ss={class:"mb-3"},as={class:"form-label"},os={key:0},ls={class:"mb-3"},is={class:"form-label"},ns={class:"mb-3"},rs={class:"form-label"},cs={class:"mb-3"},us={class:"form-label"},ds={class:"mb-3"},vs={class:"form-label"},ms={value:""},_s=["value"],ps={class:"mb-3"},fs={class:"form-label"},ys={key:0},hs={class:"mb-3"},bs={class:"mb-3"},ks={class:"mb-3"},gs={class:"mb-3"},Cs={__name:"Index",setup(Ss){const{t:o}=Ge(),S=He(),I=v("services"),U=v(""),b=v(null),x=v(0),Y=v("cash"),Q=v(!1),O=v([]),W=v([]),T=v([]),F=v([]),G=v([]),V=v(null),Z=v(!1),ee=v(!1),te=v(!1),_=v([]),E=v(!1),D=v(!1),H=v(!1),k=v(null),p=v(null),A=v(""),B=v(""),X=v(1),L=v(1),ne=J(()=>{if(!U.value)return W.value;const a=U.value.toLowerCase();return W.value.filter(s=>(s.name_ar||s.name||"").toLowerCase().includes(a)||(s.category||"").toLowerCase().includes(a))}),re=J(()=>{if(!U.value)return O.value.filter(s=>(s.stock_quantity||0)>0);const a=U.value.toLowerCase();return O.value.filter(s=>((s.name_ar||s.name||"").toLowerCase().includes(a)||(s.sku||"").toLowerCase().includes(a)||(s.barcode||"").toLowerCase().includes(a))&&(s.stock_quantity||0)>0)}),se=J(()=>_.value.reduce((a,s)=>a+s.unit_price*s.quantity,0)),he=J(()=>Math.max(0,se.value-x.value)),q=a=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3}).format(a||0),be=a=>a?new Date(a).toLocaleString("en-US"):"-",ke=a=>a?new Date(a).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):"",ge=a=>a!=null&&a.booking_start_at?ke(a.booking_start_at):a!=null&&a.booking_time&&typeof a.booking_time=="string"?a.booking_time.slice(0,5):"",Ce=()=>{},Se=a=>{if(b.value=a?Number(a):null,window.innerWidth<1200){const s=document.querySelector(".pos-column-3");s&&s.scrollIntoView({behavior:"smooth",block:"start"})}},ce=()=>{b.value&&F.value.find(a=>Number(a.id)===Number(b.value))},qe=a=>{k.value=a,A.value="",X.value=1,E.value=!0},we=a=>{if((a.stock_quantity||0)<=0){S.error(o("pos.noProducts"));return}p.value=a,B.value="",L.value=1,D.value=!0},ue=()=>b.value?!0:(S.error(o("pos.selectCustomer")),!1),Ve=(a,s)=>{if(ue()){if(s!=null&&s.shiftKey){qe(a);return}_.value.push({type:"service",service_id:a.id,name:a.name_ar||a.name,quantity:1,unit_price:parseFloat(a.price||0),staff_id:null,staff_name:""})}},Pe=(a,s)=>{if(ue()){if((a.stock_quantity||0)<=0){S.error(o("pos.noProducts"));return}if(s!=null&&s.shiftKey){we(a);return}_.value.push({type:"product",product_id:a.id,name:a.name_ar||a.name,quantity:1,unit_price:parseFloat(a.selling_price||a.price||0),staff_id:null,staff_name:""})}},Ne=()=>{if(!k.value)return;const a=T.value.find(t=>t.id==A.value),s=a?a.name:"";_.value.push({type:"service",service_id:k.value.id,name:k.value.name_ar||k.value.name+(s?` (${s})`:""),quantity:X.value,unit_price:parseFloat(k.value.price||0),staff_id:A.value||null,staff_name:s}),E.value=!1},Ie=()=>{if(!p.value)return;if(L.value>(p.value.stock_quantity||0)){S.error(o("pos.noProducts"));return}const a=T.value.find(t=>t.id==B.value),s=a?a.name:"";_.value.push({type:"product",product_id:p.value.id,name:p.value.name_ar||p.value.name+(s?` (${s})`:""),quantity:L.value,unit_price:parseFloat(p.value.selling_price||p.value.price||0),staff_id:B.value||null,staff_name:s}),D.value=!1},$e=a=>{_.value[a].quantity++},Ue=a=>{_.value[a].quantity>1&&_.value[a].quantity--},xe=a=>{_.value.splice(a,1)},Te=()=>{confirm(o("pos.clearCart")+"?")&&(_.value=[],x.value=0)},de=()=>{},Le=async()=>{var a,s,t,u,z;if(_.value.length===0){S.error(o("pos.emptyCart"));return}Q.value=!0;try{const j={customer_id:b.value?Number(b.value):null,items:_.value.map(g=>({service_id:g.service_id||null,product_id:g.product_id||null,staff_id:g.staff_id||null,quantity:g.quantity,unit_price:g.unit_price,name:g.name})),payment_method:Y.value,discount:x.value||0},oe=await $.post("/pos/process",j);if((a=oe.data)!=null&&a.success){const g=((s=oe.data)==null?void 0:s.data)||{},Be=g.order_number||"N/A",ze=g.invoice_number||g.invoice_id||"N/A";S.success(`${o("pos.orderProcessed")} ${Be} | Invoice: ${ze}`),_.value=[],x.value=0,de(),ye("/invoices"),ye("/payments"),await ae()}else S.error(((t=oe.data)==null?void 0:t.message)||o("pos.errorProcessing"))}catch(j){console.error("Error processing order:",j),S.error(((z=(u=j.response)==null?void 0:u.data)==null?void 0:z.message)||o("pos.errorProcessing"))}finally{Q.value=!1}},Me=async()=>{var a,s,t;Z.value=!0;try{const u=await $.get("/products",{params:{per_page:1e3,is_active:1}});O.value=((s=(a=u.data)==null?void 0:a.data)==null?void 0:s.items)||((t=u.data)==null?void 0:t.items)||[]}catch(u){console.error("Error loading products:",u),O.value=[]}finally{Z.value=!1}},Fe=async()=>{var a,s,t;ee.value=!0;try{const u=await $.get("/services",{params:{per_page:1e3,is_active:1}});W.value=((s=(a=u.data)==null?void 0:a.data)==null?void 0:s.items)||((t=u.data)==null?void 0:t.items)||[]}catch(u){console.error("Error loading services:",u),W.value=[]}finally{ee.value=!1}},Ee=async()=>{var a,s,t;try{const u=await $.get("/staff",{params:{per_page:1e3,status:"active"}});T.value=((s=(a=u.data)==null?void 0:a.data)==null?void 0:s.items)||((t=u.data)==null?void 0:t.items)||[]}catch(u){console.error("Error loading staff:",u),T.value=[]}},De=async()=>{var a,s,t;try{const u=await $.get("/customers",{params:{per_page:1e3}});F.value=((s=(a=u.data)==null?void 0:a.data)==null?void 0:s.items)||((t=u.data)==null?void 0:t.items)||[]}catch(u){console.error("Error loading customers:",u),F.value=[]}},ve=async()=>{var a;te.value=!0;try{const s=await $.get("/pos"),t=((a=s.data)==null?void 0:a.data)||s.data||{};G.value=t.active_customers||[]}catch(s){console.error("Error loading active customers:",s),G.value=[]}finally{te.value=!1}},Ae=async()=>{var a;try{const s=await $.get("/pos/session");V.value=((a=s.data)==null?void 0:a.data)||s.data||null}catch(s){console.error("Error loading session:",s),V.value=null}},ae=async()=>{await Promise.all([Me(),Fe(),Ee(),De(),ve(),Ae()]),S.success(o("pos.refresh")+" - "+o("common.refresh"))};return Ke(()=>{ae(),setInterval(()=>{ve()},1e4)}),(a,s)=>(c(),d("div",Je,[n(Xe,{title:e(o)("pos.title"),subtitle:e(o)("pos.subtitle")},{icon:r(()=>[n(e(f),{icon:"cil-cart"})]),actions:r(()=>[V.value?(c(),C(e(h),{key:0,color:"primary",variant:"outline",onClick:s[0]||(s[0]=t=>H.value=!0),class:"me-2"},{default:r(()=>[n(e(f),{icon:"cil-info",class:"me-2"}),m(" "+i(e(o)("pos.sessionInfo")),1)]),_:1})):y("",!0),n(e(h),{color:"primary",variant:"outline",onClick:ae,class:"me-2"},{default:r(()=>[n(e(f),{icon:"cil-reload",class:"me-2"}),m(" "+i(e(o)("pos.refresh")),1)]),_:1})]),_:1},8,["title","subtitle"]),l("div",Re,[l("div",Ye,[n(M,{title:e(o)("pos.activeCustomers"),icon:"cil-people",class:"h-100"},{footer:r(()=>[n(e(K),{modelValue:b.value,"onUpdate:modelValue":s[1]||(s[1]=t=>b.value=t),modelModifiers:{number:!0},placeholder:e(o)("pos.selectCustomer"),onChange:ce},{default:r(()=>[l("option",rt,i(e(o)("pos.selectCustomer")),1),(c(!0),d(P,null,N(F.value,t=>(c(),d("option",{key:t.id,value:t.id},i(t.name_ar||t.name)+" - "+i(t.phone),9,ct))),128))]),_:1},8,["modelValue","placeholder"])]),default:r(()=>[te.value?(c(),C(ie,{key:0,text:e(o)("common.loading")},null,8,["text"])):G.value.length===0?(c(),C(R,{key:1,title:e(o)("pos.noActiveCustomers"),description:e(o)("pos.noActiveCustomersDesc"),"icon-color":"gray"},null,8,["title","description"])):(c(),d("div",Ze,[(c(!0),d(P,null,N(G.value,t=>(c(),d("div",{key:t.id,class:me(["active-customer-item",{selected:Number(b.value)===Number(t.id)}]),onClick:u=>Se(t.id)},[l("div",tt,[n(e(f),{icon:"cil-user"})]),l("div",st,[l("div",at,i(t.name),1),l("div",ot,[n(e(_e),{color:"primary",class:"me-2"},{default:r(()=>[m(i(t.type==="queue"?t.ticket_number?`#${t.ticket_number}`:e(o)("queue.title"):e(o)("bookings.title")),1)]),_:2},1024),l("span",lt,i(t.current_service||"N/A"),1)]),t.staff_name&&t.staff_name!=="Unassigned"?(c(),d("div",it,[n(e(f),{icon:"cil-user",class:"me-1"}),m(" "+i(t.staff_name),1)])):y("",!0),t.booking_start_at||t.booking_time?(c(),d("div",nt,[n(e(f),{icon:"cil-clock",class:"me-1"}),m(" "+i(ge(t)),1)])):y("",!0)])],10,et))),128))]))]),_:1},8,["title"])]),l("div",ut,[n(M,null,{default:r(()=>[n(e(Qe),{variant:"tabs",role:"tablist"},{default:r(()=>[n(e(pe),null,{default:r(()=>[n(e(fe),{active:I.value==="services",onClick:s[2]||(s[2]=t=>I.value="services"),role:"tab"},{default:r(()=>[n(e(f),{icon:"cil-spreadsheet",class:"me-2"}),m(" "+i(e(o)("pos.services")),1)]),_:1},8,["active"])]),_:1}),n(e(pe),null,{default:r(()=>[n(e(fe),{active:I.value==="products",onClick:s[3]||(s[3]=t=>I.value="products"),role:"tab"},{default:r(()=>[n(e(f),{icon:"cil-basket",class:"me-2"}),m(" "+i(e(o)("pos.products")),1)]),_:1},8,["active"])]),_:1})]),_:1})]),_:1}),n(M,null,{default:r(()=>[n(e(Oe),null,{default:r(()=>[n(e(We),null,{default:r(()=>[n(e(f),{icon:"cil-magnifying-glass"})]),_:1}),n(e(w),{modelValue:U.value,"onUpdate:modelValue":s[4]||(s[4]=t=>U.value=t),placeholder:I.value==="services"?e(o)("pos.searchService"):e(o)("pos.searchProduct"),onInput:Ce},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),I.value==="services"?(c(),C(M,{key:0,title:e(o)("pos.services"),icon:"cil-spreadsheet"},{default:r(()=>[ee.value?(c(),C(ie,{key:0,text:e(o)("common.loading")},null,8,["text"])):ne.value.length===0?(c(),C(R,{key:1,title:e(o)("pos.noServices"),description:e(o)("pos.noServices"),"icon-color":"gray"},null,8,["title","description"])):(c(),d("div",dt,[(c(!0),d(P,null,N(ne.value,t=>(c(),d("div",{key:t.id,class:"item-card",onClick:u=>Ve(t,u)},[l("div",mt,i(t.name_ar||t.name),1),l("div",_t,i(q(t.price||0)),1),t.category?(c(),d("div",pt,[n(e(f),{icon:"cil-tag",class:"me-1"}),m(" "+i(t.category),1)])):y("",!0)],8,vt))),128))]))]),_:1},8,["title"])):y("",!0),I.value==="products"?(c(),C(M,{key:1,title:e(o)("pos.products"),icon:"cil-basket"},{default:r(()=>[Z.value?(c(),C(ie,{key:0,text:e(o)("common.loading")},null,8,["text"])):re.value.length===0?(c(),C(R,{key:1,title:e(o)("pos.noProducts"),description:e(o)("pos.noProducts"),"icon-color":"gray"},null,8,["title","description"])):(c(),d("div",ft,[(c(!0),d(P,null,N(re.value,t=>(c(),d("div",{key:t.id,class:me(["item-card",{"out-of-stock":(t.stock_quantity||0)<=0}]),onClick:u=>Pe(t,u)},[l("div",ht,i(t.name_ar||t.name),1),l("div",bt,i(q(t.selling_price||t.price||0)),1),t.stock_quantity!==void 0?(c(),d("div",kt,[n(e(_e),{color:"primary"},{default:r(()=>[m(i(e(o)("products.stock"))+": "+i(t.stock_quantity),1)]),_:2},1024)])):y("",!0),t.sku?(c(),d("div",gt,[l("small",null,"SKU: "+i(t.sku),1)])):y("",!0)],10,yt))),128))]))]),_:1},8,["title"])):y("",!0)]),l("div",Ct,[n(M,{title:e(o)("pos.cart"),icon:"cil-cart",class:"h-100"},{default:r(()=>[l("div",St,[l("label",qt,i(e(o)("pos.customer")),1),n(e(K),{modelValue:b.value,"onUpdate:modelValue":s[5]||(s[5]=t=>b.value=t),modelModifiers:{number:!0},onChange:ce},{default:r(()=>[l("option",wt,i(e(o)("pos.walkInCustomer")),1),(c(!0),d(P,null,N(F.value,t=>(c(),d("option",{key:t.id,value:t.id},i(t.name_ar||t.name),9,Vt))),128))]),_:1},8,["modelValue"])]),l("div",Pt,[_.value.length===0?(c(),C(R,{key:0,title:e(o)("pos.emptyCart"),description:e(o)("pos.emptyCartDesc"),"icon-color":"gray"},null,8,["title","description"])):(c(),d("div",Nt,[(c(!0),d(P,null,N(_.value,(t,u)=>(c(),d("div",{key:u,class:"cart-item"},[l("div",It,[l("div",$t,i(t.name),1),t.staff_name?(c(),d("div",Ut,[n(e(f),{icon:"cil-user",class:"me-1"}),m(" "+i(t.staff_name),1)])):y("",!0)]),l("div",xt,[l("div",Tt,[n(e(h),{color:"primary",size:"sm",variant:"outline",onClick:z=>Ue(u)},{default:r(()=>[n(e(f),{icon:"cil-minus"})]),_:1},8,["onClick"]),l("span",Lt,i(t.quantity),1),n(e(h),{color:"primary",size:"sm",variant:"outline",onClick:z=>$e(u)},{default:r(()=>[n(e(f),{icon:"cil-plus"})]),_:1},8,["onClick"])]),l("div",Mt,i(q(t.unit_price*t.quantity)),1),n(e(h),{color:"primary",size:"sm",variant:"ghost",onClick:z=>xe(u)},{default:r(()=>[n(e(f),{icon:"cil-trash"})]),_:1},8,["onClick"])])]))),128))]))]),l("div",Ft,[l("div",Et,[l("span",null,i(e(o)("pos.subtotal"))+":",1),l("strong",null,i(q(se.value)),1)]),l("div",Dt,[l("span",null,i(e(o)("pos.discount"))+":",1),n(e(w),{modelValue:x.value,"onUpdate:modelValue":s[6]||(s[6]=t=>x.value=t),modelModifiers:{number:!0},type:"number",step:"0.001",min:"0",max:se.value,onInput:de,class:"discount-input"},null,8,["modelValue","max"])]),l("div",At,[l("span",null,i(e(o)("pos.total"))+":",1),l("strong",Bt,i(q(he.value)),1)])]),l("div",zt,[l("label",Kt,i(e(o)("pos.paymentMethod")),1),n(e(K),{modelValue:Y.value,"onUpdate:modelValue":s[7]||(s[7]=t=>Y.value=t)},{default:r(()=>[l("option",Qt,"ðŸ’µ "+i(e(o)("pos.cash")),1),l("option",Ot,"ðŸ’³ "+i(e(o)("pos.card")),1),l("option",Wt,"ðŸ§ "+i(e(o)("pos.knet")),1)]),_:1},8,["modelValue"])]),l("div",Gt,[n(e(h),{color:"primary",variant:"outline",onClick:Te,class:"w-100 mb-2",disabled:_.value.length===0},{default:r(()=>[n(e(f),{icon:"cil-trash",class:"me-2"}),m(" "+i(e(o)("pos.clearCart")),1)]),_:1},8,["disabled"]),n(e(h),{color:"primary",onClick:Le,class:"w-100",disabled:_.value.length===0||Q.value},{default:r(()=>[n(e(f),{icon:"cil-check-circle",class:"me-2"}),m(" "+i(Q.value?e(o)("pos.processing"):e(o)("pos.processOrder")),1)]),_:1},8,["disabled"])])]),_:1},8,["title"])])]),n(e(le),{visible:E.value,"onUpdate:visible":s[11]||(s[11]=t=>E.value=t),title:e(o)("pos.addService"),size:"lg"},{body:r(()=>[k.value?(c(),d("div",Ht,[l("div",Xt,[l("label",jt,i(e(o)("pos.service")),1),n(e(w),{value:k.value.name_ar||k.value.name,disabled:""},null,8,["value"])]),l("div",Jt,[l("label",Rt,i(e(o)("pos.price")),1),n(e(w),{value:q(k.value.price||0),disabled:""},null,8,["value"])]),l("div",Yt,[l("label",Zt,i(e(o)("pos.staff")),1),n(e(K),{modelValue:A.value,"onUpdate:modelValue":s[8]||(s[8]=t=>A.value=t)},{default:r(()=>[l("option",es,i(e(o)("pos.selectStaff")),1),(c(!0),d(P,null,N(T.value,t=>(c(),d("option",{key:t.id,value:t.id},i(t.name),9,ts))),128))]),_:1},8,["modelValue"])]),l("div",ss,[l("label",as,i(e(o)("pos.quantity")),1),n(e(w),{modelValue:X.value,"onUpdate:modelValue":s[9]||(s[9]=t=>X.value=t),modelModifiers:{number:!0},type:"number",min:"1"},null,8,["modelValue"])])])):y("",!0)]),footer:r(()=>[n(e(h),{color:"primary",variant:"outline",onClick:s[10]||(s[10]=t=>E.value=!1)},{default:r(()=>[m(i(e(o)("pos.cancel")),1)]),_:1}),n(e(h),{color:"primary",onClick:Ne},{default:r(()=>[m(i(e(o)("pos.addToCart")),1)]),_:1})]),_:1},8,["visible","title"]),n(e(le),{visible:D.value,"onUpdate:visible":s[15]||(s[15]=t=>D.value=t),title:e(o)("pos.addProduct"),size:"lg"},{body:r(()=>[p.value?(c(),d("div",os,[l("div",ls,[l("label",is,i(e(o)("products.title")),1),n(e(w),{value:p.value.name_ar||p.value.name,disabled:""},null,8,["value"])]),l("div",ns,[l("label",rs,i(e(o)("pos.price")),1),n(e(w),{value:q(p.value.selling_price||p.value.price||0),disabled:""},null,8,["value"])]),l("div",cs,[l("label",us,i(e(o)("pos.availableStock")),1),n(e(w),{value:p.value.stock_quantity||0,disabled:""},null,8,["value"])]),l("div",ds,[l("label",vs,i(e(o)("pos.staff")),1),n(e(K),{modelValue:B.value,"onUpdate:modelValue":s[12]||(s[12]=t=>B.value=t)},{default:r(()=>[l("option",ms,i(e(o)("pos.selectStaff")),1),(c(!0),d(P,null,N(T.value,t=>(c(),d("option",{key:t.id,value:t.id},i(t.name),9,_s))),128))]),_:1},8,["modelValue"])]),l("div",ps,[l("label",fs,i(e(o)("pos.quantity")),1),n(e(w),{modelValue:L.value,"onUpdate:modelValue":s[13]||(s[13]=t=>L.value=t),modelModifiers:{number:!0},type:"number",min:"1",max:p.value.stock_quantity||999},null,8,["modelValue","max"])])])):y("",!0)]),footer:r(()=>{var t;return[n(e(h),{color:"primary",variant:"outline",onClick:s[14]||(s[14]=u=>D.value=!1)},{default:r(()=>[m(i(e(o)("pos.cancel")),1)]),_:1}),n(e(h),{color:"primary",onClick:Ie,disabled:L.value>(((t=p.value)==null?void 0:t.stock_quantity)||0)},{default:r(()=>[m(i(e(o)("pos.addToCart")),1)]),_:1},8,["disabled"])]}),_:1},8,["visible","title"]),n(e(le),{visible:H.value,"onUpdate:visible":s[17]||(s[17]=t=>H.value=t),title:e(o)("pos.sessionInfo")},{body:r(()=>[V.value?(c(),d("div",ys,[l("div",hs,[l("strong",null,i(e(o)("pos.openedAt"))+":",1),m(" "+i(be(V.value.opened_at)),1)]),l("div",bs,[l("strong",null,i(e(o)("pos.openingCash"))+":",1),m(" "+i(q(V.value.opening_cash||0)),1)]),l("div",ks,[l("strong",null,i(e(o)("pos.totalTransactions"))+":",1),m(" "+i(V.value.total_transactions||0),1)]),l("div",gs,[l("strong",null,i(e(o)("pos.totalSales"))+":",1),m(" "+i(q(V.value.total_sales||0)),1)])])):y("",!0)]),footer:r(()=>[n(e(h),{color:"primary",onClick:s[16]||(s[16]=t=>H.value=!1)},{default:r(()=>[m(i(e(o)("pos.close")),1)]),_:1})]),_:1},8,["visible","title"])]))}},Es=je(Cs,[["__scopeId","data-v-77c598a5"]]);export{Es as default};
