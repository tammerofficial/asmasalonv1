import{f as b,e as L,j as M,c as r,o as d,b as s,d as a,t as e,u as t,w as n,Y as C,x as V,Z as P,a as y,F as g,C as c,h as $,$ as W,g as D,P as u,n as A,z as E,a1 as Y,a2 as m,s as j,a4 as Z,a3 as K}from"../chunk-vendor-vue-VAxhpvd9.js";import{u as q,a as G}from"../chunk-component-NotificationsBell-CTLJWkW4.js";import{u as J}from"../chunk-view-AppleWallet/Simulator-BwS6bEkK.js";import{H as Q}from"../chunk-component-HelpSection-NeetTt3d.js";import{_ as X}from"../chunk-component-Card-DPM96EeB.js";import"../chunk-vendor-Ltsl4QyH.js";import"../chunk-vendor-pinia-CjQxP09R.js";import"../chunk-vendor-axios-B9ygI19o.js";import"../chunk-component-PageHeader-CMYNL4hu.js";const ss={class:"reports-page p-4"},ts={class:"pos-header-top d-flex justify-content-between align-items-center mb-4"},es={class:"header-left d-flex align-items-center gap-3"},os={class:"mb-0 fw-bold text-primary"},as={class:"header-right d-flex gap-2"},ls={class:"nano-stats-bar mb-4"},ns={class:"stat-card-nano"},is={class:"stat-icon-bg orders"},cs={class:"stat-info"},ds={class:"stat-value text-info"},rs={class:"stat-label"},_s={class:"stat-card-nano"},us={class:"stat-icon-bg revenue"},vs={class:"stat-info"},ms={class:"stat-value text-success"},ps={class:"stat-label"},hs={class:"stat-card-nano"},fs={class:"stat-icon-bg commission"},bs={class:"stat-info"},ys={class:"stat-value text-primary"},gs={class:"stat-label"},xs={class:"stat-card-nano"},ws={class:"stat-icon-bg loyalty"},ks={class:"stat-info"},Cs={class:"stat-value text-warning"},Vs={class:"stat-label"},Ds={class:"stat-card-nano"},Fs={class:"stat-icon-bg total"},Ns={class:"stat-info"},Os={class:"stat-value"},Rs={class:"stat-label"},Is={class:"stat-card-nano"},Ss={class:"stat-icon-bg orders"},Bs={class:"stat-info"},Ts={class:"stat-value text-info"},Ws={class:"stat-label"},js={class:"stat-card-nano"},Ks={class:"stat-icon-bg revenue"},zs={class:"stat-info"},Us={class:"stat-value text-success"},Hs={class:"stat-label"},Ls={class:"stat-card-nano"},Ms={class:"stat-icon-bg avg"},Ps={class:"stat-info"},$s={class:"stat-value text-primary"},As={class:"stat-label"},Es={class:"nano-panel"},Ys={key:0,class:"text-center p-5"},Zs={key:1,class:"tab-content-wrapper"},qs={key:0,class:"overview-grid"},Gs={class:"chart-card p-4 rounded-4 border h-100 shadow-sm bg-tertiary"},Js={class:"fw-bold mb-4"},Qs={class:"chart-placeholder bg-light rounded-4 d-flex align-items-center justify-content-center",style:{height:"350px"}},Xs={class:"p-4 rounded-4 border h-100 shadow-sm bg-tertiary"},st={class:"fw-bold mb-4"},tt={class:"d-flex flex-column gap-3"},et={class:"fw-bold"},ot={key:1},at={class:"nano-table-container"},lt={class:"nano-table w-100"},nt={class:"text-start"},it={class:"text-end"},ct={class:"text-end"},dt={class:"text-start fw-bold"},rt={class:"nano-filters-panel mt-4 p-4 rounded-4 bg-secondary shadow-sm"},_t={class:"fw-bold mb-3"},ut={class:"small text-muted fw-bold mb-1"},vt={value:"today"},mt={value:"yesterday"},pt={value:"this_week"},ht={value:"this_month"},ft={value:"custom"},bt={class:"small text-muted fw-bold mb-1"},yt={class:"small text-muted fw-bold mb-1"},gt={__name:"Index",setup(xt){const{t:o}=q(),z=J(),p=b(!1),v=b("overview"),h=b(null);b([]);const _=b({range:"this_month",start_date:"",end_date:""}),U=[{id:"overview",label:o("reports.overview"),icon:"cil-chart-line"},{id:"sales",label:o("reports.sales"),icon:"cil-cart"},{id:"commissions",label:o("reports.commissions"),icon:"cil-dollar"},{id:"staff",label:o("reports.staffPerformance"),icon:"cil-user"},{id:"customers",label:o("reports.customers"),icon:"cil-people"},{id:"inventory",label:o("reports.inventory"),icon:"cil-basket"}],x=L(()=>({days:30,totalOrders:450,totalRevenue:12500.5,averageOrder:27.778})),k=async()=>{var f;p.value=!0;try{const l=await G.get("/reports/overview",{params:{..._.value}});h.value=((f=l.data)==null?void 0:f.data)||l.data}catch(l){console.error("Failed to load reports:",l)}finally{p.value=!1}},H=()=>{z.success(o("reports.exported"))},w=f=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3}).format(f||0);return M(()=>{k()}),(f,l)=>{var F,N,O,R,I,S,B,T;return d(),r("div",ss,[s("div",ts,[s("div",es,[s("h2",os,e(t(o)("reports.title")),1),a(t(C),{color:"gold",shape:"rounded-pill",class:"px-3 py-2 fw-bold text-dark"},{default:n(()=>[a(t(c),{icon:"cil-chart-line",class:"me-1"}),u(" "+e(t(o)("reports.analyticsDashboard")),1)]),_:1})]),s("div",as,[a(t(V),{color:"primary",variant:"outline",class:"nano-btn-outline",onClick:H},{default:n(()=>[a(t(c),{icon:"cil-cloud-download",class:"me-2"}),u(" "+e(t(o)("common.export")),1)]),_:1}),a(t(V),{color:"secondary",variant:"ghost",onClick:k,disabled:p.value},{default:n(()=>[a(t(c),{icon:"cil-reload",class:A({spinning:p.value})},null,8,["class"])]),_:1},8,["disabled"])])]),a(t(P),{variant:"pills",class:"nano-tabs mb-4"},{default:n(()=>[(d(),r(g,null,D(U,i=>a(t(E),{key:i.id},{default:n(()=>[a(t(Y),{active:v.value===i.id,onClick:wt=>v.value=i.id,class:"nano-tab-link"},{default:n(()=>[a(t(c),{icon:i.icon,class:"me-2"},null,8,["icon"]),u(" "+e(i.label),1)]),_:2},1032,["active","onClick"])]),_:2},1024)),64))]),_:1}),s("div",ls,[v.value==="overview"?(d(),r(g,{key:0},[s("div",ns,[s("div",is,[a(t(c),{icon:"cil-cart"})]),s("div",cs,[s("div",ds,e(((N=(F=h.value)==null?void 0:F.summary)==null?void 0:N.orders)??0),1),s("div",rs,e(t(o)("reports.totalOrders")),1)])]),s("div",_s,[s("div",us,[a(t(c),{icon:"cil-money"})]),s("div",vs,[s("div",ms,e(w(((R=(O=h.value)==null?void 0:O.summary)==null?void 0:R.revenue)??0)),1),s("div",ps,e(t(o)("reports.grossRevenue")),1)])]),s("div",hs,[s("div",fs,[a(t(c),{icon:"cil-dollar"})]),s("div",bs,[s("div",ys,e(w(((S=(I=h.value)==null?void 0:I.summary)==null?void 0:S.commissions_total)??0)),1),s("div",gs,e(t(o)("reports.totalCommissions")),1)])]),s("div",xs,[s("div",ws,[a(t(c),{icon:"cil-star"})]),s("div",ks,[s("div",Cs,e(((T=(B=h.value)==null?void 0:B.summary)==null?void 0:T.loyalty_earned)??0),1),s("div",Vs,e(t(o)("loyalty.points")),1)])])],64)):v.value==="sales"?(d(),r(g,{key:1},[s("div",Ds,[s("div",Fs,[a(t(c),{icon:"cil-calendar"})]),s("div",Ns,[s("div",Os,e(x.value.days),1),s("div",Rs,e(t(o)("reports.daysTracked")),1)])]),s("div",Is,[s("div",Ss,[a(t(c),{icon:"cil-cart"})]),s("div",Bs,[s("div",Ts,e(x.value.totalOrders),1),s("div",Ws,e(t(o)("reports.totalOrders")),1)])]),s("div",js,[s("div",Ks,[a(t(c),{icon:"cil-money"})]),s("div",zs,[s("div",Us,e(w(x.value.totalRevenue)),1),s("div",Hs,e(t(o)("reports.totalRevenue")),1)])]),s("div",Ls,[s("div",Ms,[a(t(c),{icon:"cil-chart"})]),s("div",Ps,[s("div",$s,e(w(x.value.averageOrder)),1),s("div",As,e(t(o)("reports.avgOrderValue")),1)])])],64)):y("",!0)]),s("div",Es,[p.value?(d(),r("div",Ys,[a(t($),{color:"primary"})])):(d(),r("div",Zs,[v.value==="overview"?(d(),r("div",qs,[a(t(W),{class:"g-4"},{default:n(()=>[a(t(m),{md:"8"},{default:n(()=>[s("div",Gs,[s("h5",Js,e(t(o)("reports.revenueOverview")),1),s("div",Qs,[a(t(c),{icon:"cil-chart",size:"xl",class:"text-muted opacity-20"})])])]),_:1}),a(t(m),{md:"4"},{default:n(()=>[s("div",Xs,[s("h5",st,e(t(o)("reports.topServices")),1),s("div",tt,[(d(),r(g,null,D([1,2,3,4,5],i=>s("div",{key:i,class:"d-flex justify-content-between align-items-center p-3 rounded-3 bg-secondary"},[s("span",et,"Service "+e(i),1),a(t(C),{color:"primary",shape:"rounded-pill"},{default:n(()=>[u("45 "+e(t(o)("reports.sales")),1)]),_:1})])),64))])])]),_:1})]),_:1})])):y("",!0),v.value==="sales"?(d(),r("div",ot,[s("div",at,[s("table",lt,[s("thead",null,[s("tr",null,[s("th",nt,e(t(o)("common.date")),1),s("th",null,e(t(o)("reports.orders")),1),s("th",it,e(t(o)("reports.revenue")),1),s("th",ct,e(t(o)("reports.commissions")),1),s("th",null,e(t(o)("reports.growth")),1)])]),s("tbody",null,[(d(),r(g,null,D([1,2,3,4,5],i=>s("tr",{key:i,class:"nano-table-row"},[s("td",dt,"2023-10-"+e(i),1),l[4]||(l[4]=s("td",null,"12",-1)),l[5]||(l[5]=s("td",{class:"text-end text-success fw-bold"},"150.000 KWD",-1)),l[6]||(l[6]=s("td",{class:"text-end"},"15.000 KWD",-1)),s("td",null,[a(t(C),{color:"success"},{default:n(()=>[...l[3]||(l[3]=[u("+12%",-1)])]),_:1})])])),64))])])])])):y("",!0)]))]),s("div",rt,[s("h6",_t,[a(t(c),{icon:"cil-filter",class:"me-2"}),u(e(t(o)("reports.filters")),1)]),a(t(W),{class:"g-3"},{default:n(()=>[a(t(m),{md:"3"},{default:n(()=>[s("label",ut,e(t(o)("reports.dateRange")),1),a(t(Z),{modelValue:_.value.range,"onUpdate:modelValue":l[0]||(l[0]=i=>_.value.range=i)},{default:n(()=>[s("option",vt,e(t(o)("common.today")),1),s("option",mt,e(t(o)("common.yesterday")),1),s("option",pt,e(t(o)("common.thisWeek")),1),s("option",ht,e(t(o)("common.thisMonth")),1),s("option",ft,e(t(o)("common.customRange")),1)]),_:1},8,["modelValue"])]),_:1}),_.value.range==="custom"?(d(),j(t(m),{key:0,md:"3"},{default:n(()=>[s("label",bt,e(t(o)("common.startDate")),1),a(t(K),{type:"date",modelValue:_.value.start_date,"onUpdate:modelValue":l[1]||(l[1]=i=>_.value.start_date=i)},null,8,["modelValue"])]),_:1})):y("",!0),_.value.range==="custom"?(d(),j(t(m),{key:1,md:"3"},{default:n(()=>[s("label",yt,e(t(o)("common.endDate")),1),a(t(K),{type:"date",modelValue:_.value.end_date,"onUpdate:modelValue":l[2]||(l[2]=i=>_.value.end_date=i)},null,8,["modelValue"])]),_:1})):y("",!0),a(t(m),{md:"3",class:"d-flex align-items-end"},{default:n(()=>[a(t(V),{color:"primary",class:"w-100 nano-btn",onClick:k},{default:n(()=>[u(e(t(o)("reports.applyFilters")),1)]),_:1})]),_:1})]),_:1})]),a(Q,{"page-key":"reports"})])}}},St=X(gt,[["__scopeId","data-v-cc2050a9"]]);export{St as default};
