import{f as w,w as la,g as T,i as oa,c as f,o as u,d as t,a as Q,p as s,u as e,v as E,O as g,C as y,t as d,Y as z,Z as R,$,q as h,b as o,ac as Se,ad as ce,am as De,a2 as G,F as J,k as ee,X as N,ah as sa,y as K}from"../chunk-vendor-vue-DxcSX1Jd.js";import{u as na,a as H}from"../chunk-component-NotificationsBell-eCwis6PW.js";import{a as ra}from"../chunk-view-Bookings/BookingAppearance-CtCwBfZ1.js";import{u as ia}from"../chunk-component-Sidebar-DOq58Wm8.js";import{P as da}from"../chunk-component-PageHeader-BsA6C9en.js";import{S as O}from"../chunk-component-StatCard-AHk13FwB.js";import{_ as ca,C as A}from"../chunk-component-Card-BWbCGpFM.js";import{E as se}from"../chunk-component-EmptyState-B78c8qVh.js";import{L as X}from"../chunk-component-LoadingSpinner-PYO1Yq7-.js";import{C as ua,a as va,b as ma,P as pa,c as ga,e as _a,A as fa,p as ya,d as ba,i as ha}from"../chunk-vendor-charts-CNHMDSF7.js";import"../chunk-vendor-BwxB3d-x.js";import"../chunk-vendor-pinia-DRDRCEXO.js";import"../chunk-vendor-axios-B9ygI19o.js";import"../chunk-view-Bookings/BookingFormPreview-BJuYIHYB.js";const ka={class:"reports-page"},wa={key:0,class:"stats-grid"},Ca={key:1,class:"stats-grid"},Sa={key:0},Da={key:2,class:"charts-grid"},xa={class:"chart-panel chart-panel-wide"},Oa={class:"chart-title"},Ta={class:"chart-canvas"},Ra={class:"chart-panel"},Va={class:"chart-title"},Ea={class:"chart-canvas chart-canvas-sm"},Aa={class:"chart-panel"},La={class:"chart-title"},Ba={class:"chart-canvas chart-canvas-sm"},Ia={class:"chart-panel"},$a={class:"chart-title"},Pa={class:"chart-canvas chart-canvas-sm"},Fa={class:"chart-panel"},Ma={class:"chart-title"},Na={class:"chart-canvas chart-canvas-sm"},qa={class:"chart-panel"},Ua={class:"chart-title"},ja={class:"chart-canvas"},Ya={class:"chart-panel"},Wa={class:"chart-title"},Qa={class:"chart-canvas"},Ka={class:"chart-panel chart-panel-wide"},Ha={class:"chart-title"},Xa={class:"chart-canvas"},Za={class:"chart-panel"},za={class:"chart-title"},Ga={class:"chart-canvas"},Ja={class:"chart-panel"},et={class:"chart-title"},at={class:"chart-canvas"},tt={key:1},lt={key:2,class:"table-wrapper"},ot={class:"table-header-row"},st={class:"unified-amount"},nt={key:2},rt={class:"count-cell"},it={key:3},dt={class:"mb-3"},ct={key:1},ut={class:"stats-grid mb-4"},vt={class:"text-success spending-cell"},mt={key:4},pt={class:"mb-3"},gt={class:"text-success revenue-cell"},_t={key:5},ft={key:1},yt={class:"stats-grid mb-4"},bt={key:0,class:"comparison-cards mb-4"},ht={class:"row g-3"},kt={class:"col-md-6"},wt={class:"comparison-card"},Ct={class:"mb-1"},St={class:"col-md-6"},Dt={class:"comparison-card"},xt={class:"mb-1"},Ot={key:1,class:"payment-methods"},Tt={key:6},Rt={key:1,class:"stats-grid"},Vt={key:7},Et={class:"text-success"},At={__name:"Index",setup(Lt){ua.register(va,ma,pa,ga,_a,fa,ya,ba,ha);const{t:l}=na(),B=ra(),Le=ia(),D=w("overview"),I=w(String(Date.now()));la(()=>Le.theme,()=>{I.value=String(Date.now())});const p=(n,a)=>typeof window>"u"?a:getComputedStyle(document.documentElement).getPropertyValue(n).trim()||a,k=T(()=>({primary:p("--asmaa-primary","#BBA07A"),primarySoft:p("--asmaa-primary-soft","rgba(187,160,122,0.14)"),success:p("--asmaa-success","#22c55e"),warning:p("--asmaa-warning","#f59e0b"),danger:p("--asmaa-danger","#ef4444"),text:p("--text-primary","#111827"),muted:p("--text-muted","#6b7280"),border:p("--border-color","#e5e7eb")})),_=w(null),ue=w(!1),L=w({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),Be=T(()=>{var c,i;const n=(c=L.value)==null?void 0:c.start_date,a=(i=L.value)==null?void 0:i.end_date;return!n||!a?"":`${n} → ${a}`}),ve=n=>{const a=new Date,c=v=>v.toISOString().split("T")[0];if(n==="today"){const v=c(a);L.value.start_date=v,L.value.end_date=v,Z();return}if(n==="last7"){const v=new Date(a);v.setDate(a.getDate()-6),L.value.start_date=c(v),L.value.end_date=c(a),Z();return}const i=new Date(a.getFullYear(),a.getMonth(),1);L.value.start_date=c(i),L.value.end_date=c(a),Z()},Z=async()=>{var n;ue.value=!0;try{const a=await H.get("/reports/overview",{params:L.value,noCache:!0});_.value=((n=a.data)==null?void 0:n.data)||a.data||null}catch(a){console.error("Error loading overview report:",a),_.value=null,B.error(l("common.errorLoading")||"Error loading data")}finally{ue.value=!1}},P=w([]),ne=w([]),F=w(null),re=w([]),S=w(null),M=w(null),ie=w([]),me=w(!1),pe=w(!1),ge=w(!1),_e=w(!1),fe=w(!1),ye=w(!1),be=w(!1),V=w({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),ae=w({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),he=w({date:new Date().toISOString().split("T")[0]}),ke=w({date:new Date().toISOString().split("T")[0]}),te=w({start_date:new Date(new Date().getFullYear(),new Date().getMonth(),1).toISOString().split("T")[0],end_date:new Date().toISOString().split("T")[0]}),x=n=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3}).format(n||0),le=T(()=>{const n=Array.isArray(P.value)?P.value:[],a=n.reduce((c,i)=>(c.totalOrders+=Number((i==null?void 0:i.total_orders)||0),c.totalRevenue+=Number((i==null?void 0:i.total_revenue)||0),c.totalPaid+=Number((i==null?void 0:i.paid_amount)||0),c),{totalOrders:0,totalRevenue:0,totalPaid:0});return{days:n.length,totalOrders:a.totalOrders,totalRevenue:a.totalRevenue,totalPaid:a.totalPaid,avgOrder:a.totalOrders>0?a.totalRevenue/a.totalOrders:0}}),Ie=T(()=>{var c,i;const n=(c=V.value)==null?void 0:c.start_date,a=(i=V.value)==null?void 0:i.end_date;return!n||!a?"":`${n} → ${a}`}),we=n=>{const a=new Date,c=v=>v.toISOString().split("T")[0];if(n==="today"){const v=c(a);V.value.start_date=v,V.value.end_date=v,oe();return}if(n==="last7"){const v=new Date(a);v.setDate(a.getDate()-6),V.value.start_date=c(v),V.value.end_date=c(a),oe();return}const i=new Date(a.getFullYear(),a.getMonth(),1);V.value.start_date=c(i),V.value.end_date=c(a),oe()},q=n=>{D.value=n,n==="overview"&&!_.value&&Z(),n==="sales"&&P.value.length===0&&oe(),n==="daily"&&!S.value&&xe(),n==="queue"&&!M.value&&Oe()},$e=n=>({pending:l("bookings.pending"),confirmed:l("bookings.confirmed"),completed:l("bookings.completed"),cancelled:l("bookings.cancelled"),no_show:"No Show"})[n]||n,Pe=n=>({pending:"warning",confirmed:"info",completed:"success",cancelled:"secondary",no_show:"danger"})[n]||"secondary",Fe=n=>n>=4.5?"success":n>=3.5?"info":n>=2.5?"warning":"danger",Me=n=>({pending:"cil-clock",confirmed:"cil-check-circle",completed:"cil-check",cancelled:"cil-x-circle",no_show:"cil-warning"})[n]||"cil-info",oe=async()=>{var n,a,c;me.value=!0;try{const i=await H.get("/reports/sales",{params:V.value,noCache:!0}),v=((a=(n=i.data)==null?void 0:n.data)==null?void 0:a.data)||((c=i.data)==null?void 0:c.data)||[];P.value=v||[]}catch(i){console.error("Error loading sales report:",i),P.value=[],B.error(l("common.errorLoading")||"Error loading data")}finally{me.value=!1}},Ne=async()=>{var n,a,c;pe.value=!0;try{const i=await H.get("/reports/bookings",{params:ae.value,noCache:!0}),v=((a=(n=i.data)==null?void 0:n.data)==null?void 0:a.data)||((c=i.data)==null?void 0:c.data)||[];ne.value=v||[]}catch(i){console.error("Error loading bookings report:",i),ne.value=[],B.error(l("common.errorLoading")||"Error loading data")}finally{pe.value=!1}},qe=async()=>{var n;ge.value=!0;try{const c=((n=(await H.get("/reports/customers",{noCache:!0})).data)==null?void 0:n.data)||{};F.value=c}catch(a){console.error("Error loading customers report:",a),F.value=null,B.error(l("common.errorLoading")||"Error loading data")}finally{ge.value=!1}},Ue=async()=>{var n;_e.value=!0;try{const c=((n=(await H.get("/reports/staff",{noCache:!0})).data)==null?void 0:n.data)||[];re.value=c||[]}catch(a){console.error("Error loading staff report:",a),re.value=[],B.error(l("common.errorLoading")||"Error loading data")}finally{_e.value=!1}},xe=async()=>{var n;fe.value=!0;try{const a=await H.get("/reports/daily-sales",{params:he.value,noCache:!0});S.value=((n=a.data)==null?void 0:n.data)||a.data||null}catch(a){console.error("Error loading daily sales:",a),S.value=null,B.error(l("common.errorLoading")||"Error loading data")}finally{fe.value=!1}},Oe=async()=>{var n;ye.value=!0;try{const a=await H.get("/reports/queue-stats",{params:ke.value,noCache:!0});M.value=((n=a.data)==null?void 0:n.data)||a.data||null}catch(a){console.error("Error loading queue stats:",a),M.value=null,B.error(l("common.errorLoading")||"Error loading data")}finally{ye.value=!1}},je=async()=>{var n,a,c;be.value=!0;try{const i=await H.get("/reports/commissions",{params:te.value,noCache:!0});ie.value=((a=(n=i.data)==null?void 0:n.data)==null?void 0:a.data)||((c=i.data)==null?void 0:c.data)||[]}catch(i){console.error("Error loading commissions report:",i),ie.value=[],B.error(l("common.errorLoading")||"Error loading data")}finally{be.value=!1}},Ye=()=>{try{if(D.value!=="sales"){B.info(l("common.comingSoon")||"Coming soon");return}const n=Array.isArray(P.value)?P.value:[],c=[["date","orders_count","total_revenue","paid_amount"].join(","),...n.map(m=>[(m==null?void 0:m.date)??"",Number((m==null?void 0:m.total_orders)||0),Number((m==null?void 0:m.total_revenue)||0),Number((m==null?void 0:m.paid_amount)||0)].join(","))].join(`
`),i=new Blob([c],{type:"text/csv;charset=utf-8;"}),v=URL.createObjectURL(i),b=document.createElement("a");b.href=v,b.download=`sales-report_${V.value.start_date}_to_${V.value.end_date}.csv`,document.body.appendChild(b),b.click(),b.remove(),URL.revokeObjectURL(v),B.success(l("common.export")||"Exported")}catch(n){console.error(n),B.error(l("common.error")||"Error")}};oa(()=>{Z()});const de=T(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:k.value.text,usePointStyle:!0,boxWidth:8}}}})),We=T(()=>{var i,v,b,m,C,U,j,Y,W;const n=((b=(v=(i=_.value)==null?void 0:i.charts)==null?void 0:v.sales)==null?void 0:b.labels)||[],a=((U=(C=(m=_.value)==null?void 0:m.charts)==null?void 0:C.sales)==null?void 0:U.revenue)||[],c=((W=(Y=(j=_.value)==null?void 0:j.charts)==null?void 0:Y.sales)==null?void 0:W.orders)||[];return{labels:n,datasets:[{label:l("reports.revenue")||"Revenue",data:a,borderColor:k.value.primary,backgroundColor:k.value.primarySoft,tension:.35,fill:!0,yAxisID:"y"},{label:l("sales.orders")||"Orders",data:c,borderColor:k.value.success,backgroundColor:"transparent",tension:.35,fill:!1,yAxisID:"y1"}]}}),Qe=T(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:k.value.text}},tooltip:{mode:"index",intersect:!1}},interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{color:k.value.muted},grid:{color:k.value.border}},y:{ticks:{color:k.value.muted},grid:{color:k.value.border}},y1:{position:"right",ticks:{color:k.value.muted},grid:{drawOnChartArea:!1}}}})),Ke=T(()=>{var i,v,b,m,C,U,j,Y,W;const n=((b=(v=(i=_.value)==null?void 0:i.charts)==null?void 0:v.loyalty)==null?void 0:b.labels)||[],a=((U=(C=(m=_.value)==null?void 0:m.charts)==null?void 0:C.loyalty)==null?void 0:U.earned)||[],c=((W=(Y=(j=_.value)==null?void 0:j.charts)==null?void 0:Y.loyalty)==null?void 0:W.redeemed)||[];return{labels:n,datasets:[{label:l("reports.loyaltyEarned")||"Earned",data:a,borderColor:k.value.success,backgroundColor:p("--asmaa-success-soft","rgba(34,197,94,0.14)"),tension:.35,fill:!0},{label:l("reports.loyaltyRedeemed")||"Redeemed",data:c,borderColor:k.value.warning,backgroundColor:p("--asmaa-warning-soft","rgba(245,158,11,0.14)"),tension:.35,fill:!0}]}}),Te=T(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:k.value.text}}},scales:{x:{ticks:{color:k.value.muted},grid:{color:k.value.border}},y:{ticks:{color:k.value.muted},grid:{color:k.value.border}}}})),He=Te,Xe=T(()=>{var i,v;const n=((v=(i=_.value)==null?void 0:i.charts)==null?void 0:v.bookings_status)||{},a=Object.keys(n),c=Object.values(n);return{labels:a,datasets:[{data:c,backgroundColor:[p("--asmaa-warning","#f59e0b"),p("--asmaa-info","#3b82f6"),p("--asmaa-success","#22c55e"),p("--asmaa-secondary","#334155")],borderColor:p("--bg-primary","#fff"),borderWidth:2}]}}),Ze=T(()=>{var i,v;const n=((v=(i=_.value)==null?void 0:i.charts)==null?void 0:v.invoices_status)||{},a=Object.keys(n),c=Object.values(n);return{labels:a,datasets:[{data:c,backgroundColor:[p("--asmaa-primary","#BBA07A"),p("--asmaa-success","#22c55e"),p("--asmaa-warning","#f59e0b"),p("--asmaa-danger","#ef4444"),p("--asmaa-secondary","#334155")],borderColor:p("--bg-primary","#fff"),borderWidth:2}]}}),ze=T(()=>{var c,i,v,b,m,C;const n=((v=(i=(c=_.value)==null?void 0:c.charts)==null?void 0:i.payments_methods)==null?void 0:v.labels)||[],a=((C=(m=(b=_.value)==null?void 0:b.charts)==null?void 0:m.payments_methods)==null?void 0:C.totals)||[];return{labels:n,datasets:[{data:a,backgroundColor:[p("--asmaa-primary","#BBA07A"),p("--asmaa-success","#22c55e"),p("--asmaa-warning","#f59e0b"),p("--asmaa-info","#3b82f6"),p("--asmaa-secondary","#334155")],borderColor:p("--bg-primary","#fff"),borderWidth:2}]}}),Ge=T(()=>{var i,v;const n=((v=(i=_.value)==null?void 0:i.charts)==null?void 0:v.queue_status)||{},a=Object.keys(n),c=Object.values(n);return{labels:a,datasets:[{data:c,backgroundColor:[p("--asmaa-primary","#BBA07A"),p("--asmaa-info","#3b82f6"),p("--asmaa-warning","#f59e0b"),p("--asmaa-success","#22c55e"),p("--asmaa-danger","#ef4444"),p("--asmaa-secondary","#334155")],borderColor:p("--bg-primary","#fff"),borderWidth:2}]}}),Ce=T(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{x:{ticks:{color:k.value.muted},grid:{color:k.value.border}},y:{ticks:{color:k.value.muted},grid:{color:k.value.border}}}})),Je=T(()=>{var c,i,v,b,m,C;const n=((v=(i=(c=_.value)==null?void 0:c.charts)==null?void 0:i.top_services)==null?void 0:v.labels)||[],a=((C=(m=(b=_.value)==null?void 0:b.charts)==null?void 0:m.top_services)==null?void 0:C.revenue)||[];return{labels:n,datasets:[{label:l("reports.revenue")||"Revenue",data:a,backgroundColor:k.value.primary}]}}),ea=T(()=>{var c,i,v,b,m,C;const n=((v=(i=(c=_.value)==null?void 0:c.charts)==null?void 0:i.top_products)==null?void 0:v.labels)||[],a=((C=(m=(b=_.value)==null?void 0:b.charts)==null?void 0:m.top_products)==null?void 0:C.revenue)||[];return{labels:n,datasets:[{label:l("reports.revenue")||"Revenue",data:a,backgroundColor:k.value.warning}]}}),aa=T(()=>{var c,i,v,b,m,C;const n=((v=(i=(c=_.value)==null?void 0:c.charts)==null?void 0:i.commissions_by_staff)==null?void 0:v.labels)||[],a=((C=(m=(b=_.value)==null?void 0:b.charts)==null?void 0:m.commissions_by_staff)==null?void 0:C.totals)||[];return{labels:n,datasets:[{label:l("commissions.title")||"Commissions",data:a,backgroundColor:k.value.success}]}}),ta=T(()=>{var c,i,v,b,m,C;const n=((v=(i=(c=_.value)==null?void 0:c.charts)==null?void 0:i.new_customers)==null?void 0:v.labels)||[],a=((C=(m=(b=_.value)==null?void 0:b.charts)==null?void 0:m.new_customers)==null?void 0:C.counts)||[];return{labels:n,datasets:[{label:l("reports.newCustomers")||"New Customers",data:a,borderColor:k.value.primary,backgroundColor:k.value.primarySoft,tension:.35,fill:!0}]}});return(n,a)=>{var c,i,v,b,m,C,U,j,Y,W,Re,Ve,Ee,Ae;return u(),f("div",ka,[t(da,{title:e(l)("reports.title"),subtitle:e(l)("reports.subtitle")||"Comprehensive statistics and overview"},{icon:s(()=>[t(e(y),{icon:"cil-chart-line"})]),actions:s(()=>[t(e(E),{color:"secondary",variant:"outline",onClick:Ye,class:"me-2 export-btn"},{default:s(()=>[t(e(y),{icon:"cil-cloud-download",class:"me-2"}),g(" "+d(e(l)("common.export")||e(l)("reports.export")),1)]),_:1})]),_:1},8,["title","subtitle"]),D.value==="overview"?(u(),f("div",wa,[t(O,{label:e(l)("sales.orders")||"Orders",value:((i=(c=_.value)==null?void 0:c.summary)==null?void 0:i.orders)??0,badge:Be.value,"badge-variant":"info",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-cart"})]),_:1},8,["label","value","badge"]),t(O,{label:e(l)("reports.revenue")||"Revenue",value:x(((b=(v=_.value)==null?void 0:v.summary)==null?void 0:b.revenue)??0),badge:(e(l)("invoices.paid")||"Paid")+": "+x(((C=(m=_.value)==null?void 0:m.summary)==null?void 0:C.paid_revenue)??0),"badge-variant":"success",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-money"})]),_:1},8,["label","value","badge"]),t(O,{label:e(l)("reports.bookingsStatus")||e(l)("reports.bookings"),value:((j=(U=_.value)==null?void 0:U.summary)==null?void 0:j.bookings)??0,badge:(e(l)("sales.averageOrder")||"Average Order")+": "+x(((W=(Y=_.value)==null?void 0:Y.summary)==null?void 0:W.avg_order)??0),"badge-variant":"info",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-calendar"})]),_:1},8,["label","value","badge"]),t(O,{label:e(l)("commissions.title")||"Commissions",value:x(((Ve=(Re=_.value)==null?void 0:Re.summary)==null?void 0:Ve.commissions_total)??0),badge:(e(l)("loyalty.title")||"Loyalty")+": "+(((Ae=(Ee=_.value)==null?void 0:Ee.summary)==null?void 0:Ae.loyalty_earned)??0)+" pts","badge-variant":"warning",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-dollar"})]),_:1},8,["label","value","badge"])])):D.value==="sales"?(u(),f("div",Ca,[t(O,{label:e(l)("common.total")||"Total",value:le.value.days,badge:Ie.value,"badge-variant":"info",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-calendar"})]),_:1},8,["label","value","badge"]),t(O,{label:e(l)("sales.orders")||"Orders",value:le.value.totalOrders,"badge-variant":"info",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-cart"})]),_:1},8,["label","value"]),t(O,{label:e(l)("reports.revenue")||"Revenue",value:x(le.value.totalRevenue),"badge-variant":"success",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-money"})]),_:1},8,["label","value"]),t(O,{label:e(l)("invoices.paid")||"Paid",value:x(le.value.totalPaid),badge:(e(l)("sales.averageOrder")||"Average Order")+": "+x(le.value.avgOrder),"badge-variant":"info",color:"gold"},{icon:s(()=>[t(e(y),{icon:"cil-check-circle"})]),_:1},8,["label","value","badge"])])):Q("",!0),t(A,null,{title:s(()=>[t(e(sa),{variant:"tabs",class:"reports-tabs"},{default:s(()=>[t(e(K),{active:D.value==="overview",onClick:a[0]||(a[0]=r=>q("overview"))},{default:s(()=>[g(d(e(l)("reports.overview")||"Overview"),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="sales",onClick:a[1]||(a[1]=r=>q("sales"))},{default:s(()=>[g(d(e(l)("reports.sales")),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="bookings",onClick:a[2]||(a[2]=r=>q("bookings"))},{default:s(()=>[g(d(e(l)("reports.bookings")),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="customers",onClick:a[3]||(a[3]=r=>q("customers"))},{default:s(()=>[g(d(e(l)("reports.customers")),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="staff",onClick:a[4]||(a[4]=r=>q("staff"))},{default:s(()=>[g(d(e(l)("reports.staff")),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="daily",onClick:a[5]||(a[5]=r=>q("daily"))},{default:s(()=>[g(d(e(l)("reports.dailySales")||"Daily Sales"),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="queue",onClick:a[6]||(a[6]=r=>q("queue"))},{default:s(()=>[g(d(e(l)("reports.queueStats")||"Queue Stats"),1)]),_:1},8,["active"]),t(e(K),{active:D.value==="commissions",onClick:a[7]||(a[7]=r=>q("commissions"))},{default:s(()=>[g(d(e(l)("commissions.title")||"Commissions"),1)]),_:1},8,["active"])]),_:1})]),default:s(()=>[D.value==="overview"?(u(),f("div",Sa,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3 filters-card"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:L.value.start_date,"onUpdate:modelValue":a[8]||(a[8]=r=>L.value.start_date=r),type:"date",label:e(l)("reports.fromDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:L.value.end_date,"onUpdate:modelValue":a[9]||(a[9]=r=>L.value.end_date=r),type:"date",label:e(l)("reports.toDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end gap-2"},{default:s(()=>[t(e(E),{color:"secondary",variant:"outline",onClick:a[10]||(a[10]=r=>ve("today")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.today")||"Today"),1)]),_:1}),t(e(E),{color:"secondary",variant:"outline",onClick:a[11]||(a[11]=r=>ve("last7")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.last7Days")||"Last 7 days"),1)]),_:1})]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end gap-2"},{default:s(()=>[t(e(E),{color:"secondary",variant:"outline",onClick:a[12]||(a[12]=r=>ve("thisMonth")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.thisMonth")||"This month"),1)]),_:1}),t(e(E),{color:"primary",class:"btn-primary-custom w-100",onClick:Z},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:e(l)("reports.overview")||"Overview",icon:"cil-chart-line",class:"charts-card"},{default:s(()=>[ue.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):!_.value||!_.value.charts?(u(),h(se,{key:1,title:e(l)("common.noData"),description:(e(l)("reports.overview")||"Overview")+" - "+e(l)("common.noData"),"icon-color":"gray"},null,8,["title","description"])):(u(),f("div",Da,[o("div",xa,[o("div",Oa,d(e(l)("reports.salesTrend")||"Sales Trend"),1),o("div",Ta,[(u(),h(e(Se),{data:We.value,options:Qe.value,key:I.value+"-sales"},null,8,["data","options"]))])]),o("div",Ra,[o("div",Va,d(e(l)("reports.bookingsStatus")||"Bookings Status"),1),o("div",Ea,[(u(),h(e(ce),{data:Xe.value,options:de.value,key:I.value+"-b"},null,8,["data","options"]))])]),o("div",Aa,[o("div",La,d(e(l)("reports.invoicesStatus")||"Invoices Status"),1),o("div",Ba,[(u(),h(e(ce),{data:Ze.value,options:de.value,key:I.value+"-i"},null,8,["data","options"]))])]),o("div",Ia,[o("div",$a,d(e(l)("reports.paymentsMethods")||"Payments Methods"),1),o("div",Pa,[(u(),h(e(ce),{data:ze.value,options:de.value,key:I.value+"-p"},null,8,["data","options"]))])]),o("div",Fa,[o("div",Ma,d(e(l)("reports.queueStatus")||"Queue Status"),1),o("div",Na,[(u(),h(e(ce),{data:Ge.value,options:de.value,key:I.value+"-q"},null,8,["data","options"]))])]),o("div",qa,[o("div",Ua,d(e(l)("reports.topServices")||"Top Services"),1),o("div",ja,[(u(),h(e(De),{data:Je.value,options:Ce.value,key:I.value+"-ts"},null,8,["data","options"]))])]),o("div",Ya,[o("div",Wa,d(e(l)("reports.topProducts")||"Top Products"),1),o("div",Qa,[(u(),h(e(De),{data:ea.value,options:Ce.value,key:I.value+"-tp"},null,8,["data","options"]))])]),o("div",Ka,[o("div",Ha,d(e(l)("reports.loyaltyTrend")||"Loyalty Trend"),1),o("div",Xa,[(u(),h(e(Se),{data:Ke.value,options:Te.value,key:I.value+"-l"},null,8,["data","options"]))])]),o("div",Za,[o("div",za,d(e(l)("reports.commissionsByStaff")||"Commissions by Staff"),1),o("div",Ga,[(u(),h(e(De),{data:aa.value,options:Ce.value,key:I.value+"-c"},null,8,["data","options"]))])]),o("div",Ja,[o("div",et,d(e(l)("reports.newCustomers")||"New Customers"),1),o("div",at,[(u(),h(e(Se),{data:ta.value,options:e(He),key:I.value+"-nc"},null,8,["data","options"]))])])]))]),_:1},8,["title"])])):D.value==="sales"?(u(),f("div",tt,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3 filters-card"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:V.value.start_date,"onUpdate:modelValue":a[13]||(a[13]=r=>V.value.start_date=r),type:"date",label:e(l)("reports.fromDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:V.value.end_date,"onUpdate:modelValue":a[14]||(a[14]=r=>V.value.end_date=r),type:"date",label:e(l)("reports.toDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end gap-2"},{default:s(()=>[t(e(E),{color:"secondary",variant:"outline",onClick:a[15]||(a[15]=r=>we("today")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.today")||"Today"),1)]),_:1}),t(e(E),{color:"secondary",variant:"outline",onClick:a[16]||(a[16]=r=>we("last7")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.last7Days")||"Last 7 days"),1)]),_:1})]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end gap-2"},{default:s(()=>[t(e(E),{color:"secondary",variant:"outline",onClick:a[17]||(a[17]=r=>we("thisMonth")),class:"w-100"},{default:s(()=>[g(d(e(l)("common.thisMonth")||"This month"),1)]),_:1}),t(e(E),{color:"primary",class:"btn-primary-custom w-100",onClick:oe},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:e(l)("reports.sales"),icon:"cil-chart-line"},{default:s(()=>[me.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):P.value.length===0?(u(),h(se,{key:1,title:e(l)("common.noData"),description:(e(l)("reports.sales")||"Sales Report")+" - "+e(l)("common.noData"),"icon-color":"gray"},null,8,["title","description"])):(u(),f("div",lt,[t(e(G),{hover:"",responsive:"",class:"table-modern"},{default:s(()=>[o("thead",null,[o("tr",ot,[o("th",null,d(e(l)("common.date")||"Date"),1),o("th",null,d(e(l)("sales.orders")||"Orders Count"),1),o("th",null,d(e(l)("reports.revenue")||"Total Revenue"),1),o("th",null,d(e(l)("invoices.paid")||"Paid"),1)])]),o("tbody",null,[(u(!0),f(J,null,ee(P.value,r=>(u(),f("tr",{key:r.date,class:"table-row"},[o("td",null,d(r.date),1),o("td",null,[t(e(N),{class:"unified-badge primary-badge"},{default:s(()=>[t(e(y),{icon:"cil-cart",class:"badge-icon"}),o("span",null,d(r.total_orders||0),1)]),_:2},1024)]),o("td",null,[o("strong",st,[t(e(y),{icon:"cil-money",class:"money-icon"}),g(" "+d(x(r.total_revenue||0)),1)])]),o("td",null,[t(e(N),{class:"unified-badge success-badge"},{default:s(()=>[t(e(y),{icon:"cil-check-circle",class:"badge-icon"}),o("span",null,d(x(r.paid_amount||0)),1)]),_:2},1024)])]))),128))])]),_:1})]))]),_:1},8,["title"])])):D.value==="bookings"?(u(),f("div",nt,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:ae.value.start_date,"onUpdate:modelValue":a[18]||(a[18]=r=>ae.value.start_date=r),type:"date",label:e(l)("reports.fromDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:ae.value.end_date,"onUpdate:modelValue":a[19]||(a[19]=r=>ae.value.end_date=r),type:"date",label:e(l)("reports.toDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end"},{default:s(()=>[t(e(E),{color:"primary",onClick:Ne,class:"w-100"},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:e(l)("reports.bookings"),icon:"cil-calendar"},{default:s(()=>[pe.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):ne.value.length===0?(u(),h(se,{key:1,title:e(l)("common.noData"),description:e(l)("reports.bookings")+" - "+e(l)("common.noData"),"icon-color":"gray"},null,8,["title","description"])):(u(),h(e(G),{key:2,hover:"",responsive:"",class:"table-modern"},{default:s(()=>[o("thead",null,[o("tr",null,[o("th",null,d(e(l)("common.status")),1),a[24]||(a[24]=o("th",null,"Count",-1))])]),o("tbody",null,[(u(!0),f(J,null,ee(ne.value,r=>(u(),f("tr",{key:r.status,class:"table-row"},[o("td",null,[t(e(N),{color:Pe(r.status),class:"status-badge-modern"},{default:s(()=>[t(e(y),{icon:Me(r.status),class:"me-1"},null,8,["icon"]),g(" "+d($e(r.status)),1)]),_:2},1032,["color"])]),o("td",null,[o("strong",rt,d(r.count||0),1)])]))),128))])]),_:1}))]),_:1},8,["title"])])):D.value==="customers"?(u(),f("div",it,[t(A,{title:e(l)("reports.customers"),icon:"cil-user"},{default:s(()=>[o("div",dt,[t(e(E),{color:"primary",onClick:qe},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),ge.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):F.value?(u(),f("div",ct,[o("div",ut,[t(O,{label:"Total Customers",value:F.value.total||0,"badge-variant":"info",color:"blue"},{icon:s(()=>[t(e(y),{icon:"cil-user"})]),_:1},8,["value"]),t(O,{label:e(l)("status.active"),value:F.value.active||0,"badge-variant":"success",color:"green"},{icon:s(()=>[t(e(y),{icon:"cil-check-circle"})]),_:1},8,["label","value"]),t(O,{label:"New This Month",value:F.value.new_this_month||0,"badge-variant":"info",color:"purple"},{icon:s(()=>[t(e(y),{icon:"cil-plus"})]),_:1},8,["value"])]),F.value.top_customers&&F.value.top_customers.length>0?(u(),h(e(G),{key:0,hover:"",responsive:"",class:"table-modern"},{default:s(()=>[a[25]||(a[25]=o("thead",null,[o("tr",null,[o("th",null,"Customer"),o("th",null,"Spending"),o("th",null,"Visits")])],-1)),o("tbody",null,[(u(!0),f(J,null,ee(F.value.top_customers,r=>(u(),f("tr",{key:r.id,class:"table-row"},[o("td",null,[o("strong",null,d(r.name),1)]),o("td",null,[o("strong",vt,[t(e(y),{icon:"cil-money",class:"me-1"}),g(" "+d(x(r.total_spent||0)),1)])]),o("td",null,[t(e(N),{color:"info",class:"visits-badge"},{default:s(()=>[t(e(y),{icon:"cil-calendar-check",class:"me-1"}),g(" "+d(r.total_visits||0),1)]),_:2},1024)])]))),128))])]),_:1})):Q("",!0)])):Q("",!0)]),_:1},8,["title"])])):D.value==="staff"?(u(),f("div",mt,[t(A,{title:e(l)("reports.staff"),icon:"cil-user"},{default:s(()=>[o("div",pt,[t(e(E),{color:"primary",onClick:Ue},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_e.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):re.value.length===0?(u(),h(se,{key:1,title:e(l)("common.noData"),description:e(l)("reports.staff")+" - "+e(l)("common.noData"),"icon-color":"gray"},null,8,["title","description"])):(u(),h(e(G),{key:2,hover:"",responsive:"",class:"table-modern"},{default:s(()=>[o("thead",null,[o("tr",null,[o("th",null,d(e(l)("staff.title")),1),a[26]||(a[26]=o("th",null,"Services",-1)),a[27]||(a[27]=o("th",null,"Revenue",-1)),a[28]||(a[28]=o("th",null,"Rating",-1))])]),o("tbody",null,[(u(!0),f(J,null,ee(re.value,r=>(u(),f("tr",{key:r.id,class:"table-row"},[o("td",null,[o("strong",null,d(r.name),1)]),o("td",null,[t(e(N),{color:"info",class:"services-badge"},{default:s(()=>[t(e(y),{icon:"cil-spreadsheet",class:"me-1"}),g(" "+d(r.total_services||0),1)]),_:2},1024)]),o("td",null,[o("strong",gt,[t(e(y),{icon:"cil-money",class:"me-1"}),g(" "+d(x(r.total_revenue||0)),1)])]),o("td",null,[t(e(N),{color:Fe(r.rating||0),class:"rating-badge"},{default:s(()=>[t(e(y),{icon:"cil-star",class:"me-1"}),g(" "+d((r.rating||0).toFixed(1)),1)]),_:2},1032,["color"])])]))),128))])]),_:1}))]),_:1},8,["title"])])):D.value==="daily"?(u(),f("div",_t,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:he.value.date,"onUpdate:modelValue":a[20]||(a[20]=r=>he.value.date=r),type:"date",label:"Date"},null,8,["modelValue"])]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end"},{default:s(()=>[t(e(E),{color:"primary",onClick:xe,class:"w-100"},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:"Daily Sales Overview",icon:"cil-chart-line"},{default:s(()=>[fe.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):S.value?(u(),f("div",ft,[o("div",yt,[t(O,{label:"Total Orders",value:S.value.total_orders||0,"badge-variant":"info",color:"blue"},{icon:s(()=>[t(e(y),{icon:"cil-cart"})]),_:1},8,["value"]),t(O,{label:"Total Revenue",value:x(S.value.total_revenue||0),"badge-variant":"success",color:"green"},{icon:s(()=>[t(e(y),{icon:"cil-money"})]),_:1},8,["value"]),t(O,{label:"Average Order",value:x(S.value.avg_order_value||0),"badge-variant":"info",color:"purple"},{icon:s(()=>[t(e(y),{icon:"cil-chart"})]),_:1},8,["value"])]),S.value.comparison?(u(),f("div",bt,[o("div",ht,[o("div",kt,[o("div",wt,[a[29]||(a[29]=o("h6",null,"Yesterday",-1)),o("p",Ct,d(x(S.value.comparison.yesterday.revenue)),1),t(e(N),{color:S.value.comparison.yesterday.change_percent>=0?"success":"danger"},{default:s(()=>[g(d(S.value.comparison.yesterday.change_percent>=0?"+":"")+d(S.value.comparison.yesterday.change_percent)+"% ",1)]),_:1},8,["color"])])]),o("div",St,[o("div",Dt,[a[30]||(a[30]=o("h6",null,"Last Week",-1)),o("p",xt,d(x(S.value.comparison.last_week.revenue)),1),t(e(N),{color:S.value.comparison.last_week.change_percent>=0?"success":"danger"},{default:s(()=>[g(d(S.value.comparison.last_week.change_percent>=0?"+":"")+d(S.value.comparison.last_week.change_percent)+"% ",1)]),_:1},8,["color"])])])])])):Q("",!0),S.value.payment_methods&&S.value.payment_methods.length?(u(),f("div",Ot,[a[32]||(a[32]=o("h5",{class:"mb-3"},"Payment Methods",-1)),t(e(G),{hover:"",responsive:""},{default:s(()=>[a[31]||(a[31]=o("thead",null,[o("tr",null,[o("th",null,"Method"),o("th",null,"Count"),o("th",null,"Total"),o("th",null,"Percentage")])],-1)),o("tbody",null,[(u(!0),f(J,null,ee(S.value.payment_methods,r=>(u(),f("tr",{key:r.payment_method},[o("td",null,[o("strong",null,d(r.payment_method||"N/A"),1)]),o("td",null,d(r.count||0),1),o("td",null,d(x(r.total||0)),1),o("td",null,d(S.value.total_revenue>0?Math.round(r.total/S.value.total_revenue*100):0)+"% ",1)]))),128))])]),_:1})])):Q("",!0)])):Q("",!0)]),_:1})])):D.value==="queue"?(u(),f("div",Tt,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:4},{default:s(()=>[t(e($),{modelValue:ke.value.date,"onUpdate:modelValue":a[21]||(a[21]=r=>ke.value.date=r),type:"date",label:"Date"},null,8,["modelValue"])]),_:1}),t(e(R),{md:4,class:"d-flex align-items-end"},{default:s(()=>[t(e(E),{color:"primary",onClick:Oe,class:"w-100"},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:"Queue Statistics",icon:"cil-queue"},{default:s(()=>[ye.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):M.value?(u(),f("div",Rt,[t(O,{label:"Total Tickets",value:M.value.total_tickets||0,"badge-variant":"info",color:"blue"},{icon:s(()=>[t(e(y),{icon:"cil-list"})]),_:1},8,["value"]),t(O,{label:"Completed",value:M.value.completed||0,"badge-variant":"success",color:"green"},{icon:s(()=>[t(e(y),{icon:"cil-check-circle"})]),_:1},8,["value"]),t(O,{label:"Cancelled",value:M.value.cancelled||0,"badge-variant":"warning",color:"yellow"},{icon:s(()=>[t(e(y),{icon:"cil-x-circle"})]),_:1},8,["value"]),t(O,{label:"Avg Waiting Time",value:(M.value.avg_waiting_time||0)+" min","badge-variant":"info",color:"purple"},{icon:s(()=>[t(e(y),{icon:"cil-clock"})]),_:1},8,["value"]),t(O,{label:"Avg Service Time",value:(M.value.avg_service_time||0)+" min","badge-variant":"info",color:"teal"},{icon:s(()=>[t(e(y),{icon:"cil-timer"})]),_:1},8,["value"])])):Q("",!0)]),_:1})])):D.value==="commissions"?(u(),f("div",Vt,[t(A,{title:e(l)("common.filter"),icon:"cil-filter",class:"mb-3"},{default:s(()=>[t(e(z),{class:"g-3"},{default:s(()=>[t(e(R),{md:3},{default:s(()=>[t(e($),{modelValue:te.value.start_date,"onUpdate:modelValue":a[22]||(a[22]=r=>te.value.start_date=r),type:"date",label:e(l)("reports.fromDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:3},{default:s(()=>[t(e($),{modelValue:te.value.end_date,"onUpdate:modelValue":a[23]||(a[23]=r=>te.value.end_date=r),type:"date",label:e(l)("reports.toDate")},null,8,["modelValue","label"])]),_:1}),t(e(R),{md:3,class:"d-flex align-items-end"},{default:s(()=>[t(e(E),{color:"primary",onClick:je,class:"w-100"},{default:s(()=>[g(d(e(l)("reports.generate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(A,{title:"Commissions Report",icon:"cil-dollar"},{default:s(()=>[be.value?(u(),h(X,{key:0,text:e(l)("common.loading")},null,8,["text"])):ie.value.length===0?(u(),h(se,{key:1,title:e(l)("common.noData"),description:"Commissions - "+e(l)("common.noData"),"icon-color":"gray"},null,8,["title","description"])):(u(),h(e(G),{key:2,hover:"",responsive:"",class:"table-modern"},{default:s(()=>[o("thead",null,[o("tr",null,[o("th",null,d(e(l)("staff.title")),1),a[33]||(a[33]=o("th",null,"Services",-1)),a[34]||(a[34]=o("th",null,"Revenue",-1)),a[35]||(a[35]=o("th",null,"Base Commission",-1)),a[36]||(a[36]=o("th",null,"Bonuses",-1)),a[37]||(a[37]=o("th",null,"Total Commission",-1))])]),o("tbody",null,[(u(!0),f(J,null,ee(ie.value,r=>(u(),f("tr",{key:r.staff_id,class:"table-row"},[o("td",null,[o("strong",null,d(r.staff_name),1)]),o("td",null,[t(e(N),{color:"info"},{default:s(()=>[g(d(r.total_services||0),1)]),_:2},1024)]),o("td",null,d(x(r.total_revenue||0)),1),o("td",null,d(x(r.base_commission||0)),1),o("td",null,d(x(r.total_bonuses||0)),1),o("td",null,[o("strong",Et,d(x(r.total_commission||0)),1)])]))),128))])]),_:1}))]),_:1})])):Q("",!0)]),_:1})])}}},Ht=ca(At,[["__scopeId","data-v-72cde4f1"]]);export{Ht as default};
