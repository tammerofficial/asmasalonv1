import{f as b,e as E,j as P,c as r,o as d,b as s,d as a,t as i,u as e,w as o,Y as k,x as C,Z as U,a as y,F as g,C as n,h as G,$ as W,g as V,P as u,n as H,z as M,a1 as Y,a2 as m,s as j,a4 as $,a3 as A}from"../chunk-vendor-vue-BKzcbwC-.js";import{u as Z,a as q}from"../chunk-component-NotificationsBell-CyBx4swB.js";import{u as J}from"../chunk-view-AppleWallet/Simulator-WLH8OaYC.js";import{H as Q}from"../chunk-component-HelpSection-B1vxldAY.js";import{_ as X}from"../chunk-component-Card-D7ddNvJz.js";import"../chunk-vendor-Ltsl4QyH.js";import"../chunk-vendor-pinia-CsGkbfJ3.js";import"../chunk-vendor-axios-B9ygI19o.js";import"../chunk-component-PageHeader-CI_3JpQM.js";const ss={class:"reports-page p-4"},ts={class:"pos-header-top d-flex justify-content-between align-items-center mb-4"},es={class:"header-left d-flex align-items-center gap-3"},as={class:"mb-0 fw-bold text-primary"},os={class:"header-right d-flex gap-2"},ls={class:"nano-stats-bar mb-4"},ns={class:"stat-card-nano"},is={class:"stat-icon-bg orders"},ds={class:"stat-info"},rs={class:"stat-value text-info"},cs={class:"stat-card-nano"},us={class:"stat-icon-bg revenue"},vs={class:"stat-info"},ms={class:"stat-value text-success"},_s={class:"stat-card-nano"},ps={class:"stat-icon-bg commission"},fs={class:"stat-info"},bs={class:"stat-value text-primary"},ys={class:"stat-card-nano"},gs={class:"stat-icon-bg loyalty"},hs={class:"stat-info"},xs={class:"stat-value text-warning"},ws={class:"stat-card-nano"},ks={class:"stat-icon-bg total"},Cs={class:"stat-info"},Vs={class:"stat-value"},Ds={class:"stat-card-nano"},Ts={class:"stat-icon-bg orders"},Rs={class:"stat-info"},Ss={class:"stat-value text-info"},Os={class:"stat-card-nano"},Fs={class:"stat-icon-bg revenue"},Is={class:"stat-info"},Ns={class:"stat-value text-success"},Bs={class:"stat-card-nano"},Ws={class:"stat-icon-bg avg"},js={class:"stat-info"},As={class:"stat-value text-primary"},Ks={class:"nano-panel"},Ls={key:0,class:"text-center p-5"},zs={key:1,class:"tab-content-wrapper"},Es={key:0,class:"overview-grid"},Ps={class:"chart-card p-4 rounded-4 border h-100 shadow-sm bg-tertiary"},Us={class:"chart-placeholder bg-light rounded-4 d-flex align-items-center justify-content-center",style:{height:"350px"}},Gs={class:"p-4 rounded-4 border h-100 shadow-sm bg-tertiary"},Hs={class:"d-flex flex-column gap-3"},Ms={class:"fw-bold"},Ys={key:1},$s={class:"nano-table-container"},Zs={class:"nano-table w-100"},qs={class:"text-start fw-bold"},Js={class:"nano-filters-panel mt-4 p-4 rounded-4 bg-secondary shadow-sm"},Qs={class:"fw-bold mb-3"},Xs={__name:"Index",setup(st){const{t:D}=Z(),K=J(),_=b(!1),v=b("overview"),p=b(null);b([]);const c=b({range:"this_month",start_date:"",end_date:""}),L=[{id:"overview",label:"Overview",icon:"cil-chart-line"},{id:"sales",label:"Sales",icon:"cil-cart"},{id:"commissions",label:"Commissions",icon:"cil-dollar"},{id:"staff",label:"Staff Performance",icon:"cil-user"},{id:"customers",label:"Customers",icon:"cil-people"},{id:"inventory",label:"Inventory",icon:"cil-basket"}],h=E(()=>({days:30,totalOrders:450,totalRevenue:12500.5,averageOrder:27.778})),w=async()=>{var f;_.value=!0;try{const t=await q.get("/reports/overview",{params:{...c.value}});p.value=((f=t.data)==null?void 0:f.data)||t.data}catch(t){console.error("Failed to load reports:",t)}finally{_.value=!1}},z=()=>{K.success("Report exported to Excel")},x=f=>new Intl.NumberFormat("en-KW",{style:"currency",currency:"KWD",minimumFractionDigits:3}).format(f||0);return P(()=>{w()}),(f,t)=>{var T,R,S,O,F,I,N,B;return d(),r("div",ss,[s("div",ts,[s("div",es,[s("h2",as,i(e(D)("reports.title")),1),a(e(k),{color:"gold",shape:"rounded-pill",class:"px-3 py-2 fw-bold text-dark"},{default:o(()=>[a(e(n),{icon:"cil-chart-line",class:"me-1"}),t[3]||(t[3]=u(" Analytics Dashboard ",-1))]),_:1})]),s("div",os,[a(e(C),{color:"primary",variant:"outline",class:"nano-btn-outline",onClick:z},{default:o(()=>[a(e(n),{icon:"cil-cloud-download",class:"me-2"}),u(" "+i(e(D)("common.export")),1)]),_:1}),a(e(C),{color:"secondary",variant:"ghost",onClick:w,disabled:_.value},{default:o(()=>[a(e(n),{icon:"cil-reload",class:H({spinning:_.value})},null,8,["class"])]),_:1},8,["disabled"])])]),a(e(U),{variant:"pills",class:"nano-tabs mb-4"},{default:o(()=>[(d(),r(g,null,V(L,l=>a(e(M),{key:l.id},{default:o(()=>[a(e(Y),{active:v.value===l.id,onClick:tt=>v.value=l.id,class:"nano-tab-link"},{default:o(()=>[a(e(n),{icon:l.icon,class:"me-2"},null,8,["icon"]),u(" "+i(l.label),1)]),_:2},1032,["active","onClick"])]),_:2},1024)),64))]),_:1}),s("div",ls,[v.value==="overview"?(d(),r(g,{key:0},[s("div",ns,[s("div",is,[a(e(n),{icon:"cil-cart"})]),s("div",ds,[s("div",rs,i(((R=(T=p.value)==null?void 0:T.summary)==null?void 0:R.orders)??0),1),t[4]||(t[4]=s("div",{class:"stat-label"},"Total Orders",-1))])]),s("div",cs,[s("div",us,[a(e(n),{icon:"cil-money"})]),s("div",vs,[s("div",ms,i(x(((O=(S=p.value)==null?void 0:S.summary)==null?void 0:O.revenue)??0)),1),t[5]||(t[5]=s("div",{class:"stat-label"},"Gross Revenue",-1))])]),s("div",_s,[s("div",ps,[a(e(n),{icon:"cil-dollar"})]),s("div",fs,[s("div",bs,i(x(((I=(F=p.value)==null?void 0:F.summary)==null?void 0:I.commissions_total)??0)),1),t[6]||(t[6]=s("div",{class:"stat-label"},"Total Commissions",-1))])]),s("div",ys,[s("div",gs,[a(e(n),{icon:"cil-star"})]),s("div",hs,[s("div",xs,i(((B=(N=p.value)==null?void 0:N.summary)==null?void 0:B.loyalty_earned)??0),1),t[7]||(t[7]=s("div",{class:"stat-label"},"Loyalty Points",-1))])])],64)):v.value==="sales"?(d(),r(g,{key:1},[s("div",ws,[s("div",ks,[a(e(n),{icon:"cil-calendar"})]),s("div",Cs,[s("div",Vs,i(h.value.days),1),t[8]||(t[8]=s("div",{class:"stat-label"},"Days tracked",-1))])]),s("div",Ds,[s("div",Ts,[a(e(n),{icon:"cil-cart"})]),s("div",Rs,[s("div",Ss,i(h.value.totalOrders),1),t[9]||(t[9]=s("div",{class:"stat-label"},"Total Orders",-1))])]),s("div",Os,[s("div",Fs,[a(e(n),{icon:"cil-money"})]),s("div",Is,[s("div",Ns,i(x(h.value.totalRevenue)),1),t[10]||(t[10]=s("div",{class:"stat-label"},"Total Revenue",-1))])]),s("div",Bs,[s("div",Ws,[a(e(n),{icon:"cil-chart"})]),s("div",js,[s("div",As,i(x(h.value.averageOrder)),1),t[11]||(t[11]=s("div",{class:"stat-label"},"Avg. Order Value",-1))])])],64)):y("",!0)]),s("div",Ks,[_.value?(d(),r("div",Ls,[a(e(G),{color:"primary"})])):(d(),r("div",zs,[v.value==="overview"?(d(),r("div",Es,[a(e(W),{class:"g-4"},{default:o(()=>[a(e(m),{md:"8"},{default:o(()=>[s("div",Ps,[t[12]||(t[12]=s("h5",{class:"fw-bold mb-4"},"Revenue Overview (Last 30 Days)",-1)),s("div",Us,[a(e(n),{icon:"cil-chart",size:"xl",class:"text-muted opacity-20"})])])]),_:1}),a(e(m),{md:"4"},{default:o(()=>[s("div",Gs,[t[14]||(t[14]=s("h5",{class:"fw-bold mb-4"},"Top Services",-1)),s("div",Hs,[(d(),r(g,null,V([1,2,3,4,5],l=>s("div",{key:l,class:"d-flex justify-content-between align-items-center p-3 rounded-3 bg-secondary"},[s("span",Ms,"Service "+i(l),1),a(e(k),{color:"primary",shape:"rounded-pill"},{default:o(()=>[...t[13]||(t[13]=[u("45 Sales",-1)])]),_:1})])),64))])])]),_:1})]),_:1})])):y("",!0),v.value==="sales"?(d(),r("div",Ys,[s("div",$s,[s("table",Zs,[t[19]||(t[19]=s("thead",null,[s("tr",null,[s("th",{class:"text-start"},"Date"),s("th",null,"Orders"),s("th",{class:"text-end"},"Revenue"),s("th",{class:"text-end"},"Commissions"),s("th",null,"Growth")])],-1)),s("tbody",null,[(d(),r(g,null,V([1,2,3,4,5],l=>s("tr",{key:l,class:"nano-table-row"},[s("td",qs,"2023-10-"+i(l),1),t[16]||(t[16]=s("td",null,"12",-1)),t[17]||(t[17]=s("td",{class:"text-end text-success fw-bold"},"150.000 KWD",-1)),t[18]||(t[18]=s("td",{class:"text-end"},"15.000 KWD",-1)),s("td",null,[a(e(k),{color:"success"},{default:o(()=>[...t[15]||(t[15]=[u("+12%",-1)])]),_:1})])])),64))])])])])):y("",!0)]))]),s("div",Js,[s("h6",Qs,[a(e(n),{icon:"cil-filter",class:"me-2"}),t[20]||(t[20]=u("Report Filters",-1))]),a(e(W),{class:"g-3"},{default:o(()=>[a(e(m),{md:"3"},{default:o(()=>[t[22]||(t[22]=s("label",{class:"small text-muted fw-bold mb-1"},"Date Range",-1)),a(e($),{modelValue:c.value.range,"onUpdate:modelValue":t[0]||(t[0]=l=>c.value.range=l)},{default:o(()=>[...t[21]||(t[21]=[s("option",{value:"today"},"Today",-1),s("option",{value:"yesterday"},"Yesterday",-1),s("option",{value:"this_week"},"This Week",-1),s("option",{value:"this_month"},"This Month",-1),s("option",{value:"custom"},"Custom Range",-1)])]),_:1},8,["modelValue"])]),_:1}),c.value.range==="custom"?(d(),j(e(m),{key:0,md:"3"},{default:o(()=>[t[23]||(t[23]=s("label",{class:"small text-muted fw-bold mb-1"},"Start Date",-1)),a(e(A),{type:"date",modelValue:c.value.start_date,"onUpdate:modelValue":t[1]||(t[1]=l=>c.value.start_date=l)},null,8,["modelValue"])]),_:1})):y("",!0),c.value.range==="custom"?(d(),j(e(m),{key:1,md:"3"},{default:o(()=>[t[24]||(t[24]=s("label",{class:"small text-muted fw-bold mb-1"},"End Date",-1)),a(e(A),{type:"date",modelValue:c.value.end_date,"onUpdate:modelValue":t[2]||(t[2]=l=>c.value.end_date=l)},null,8,["modelValue"])]),_:1})):y("",!0),a(e(m),{md:"3",class:"d-flex align-items-end"},{default:o(()=>[a(e(C),{color:"primary",class:"w-100 nano-btn",onClick:w},{default:o(()=>[...t[25]||(t[25]=[u("Apply Filters",-1)])]),_:1})]),_:1})]),_:1})]),a(Q,{"page-key":"reports"})])}}},ut=X(Xs,[["__scopeId","data-v-4d3a8d7c"]]);export{ut as default};
