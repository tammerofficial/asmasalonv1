import{f as b,w as g,g as h,q as B,o as c,p as a,d as s,u as e,a7 as M,O as m,t as l,a6 as R,c as v,a as C,b as d,ao as F,_ as x,k as N,F as $,a8 as I,v as y,C as T,a9 as w,a5 as A}from"../chunk-vendor-vue-DxcSX1Jd.js";import{u as L}from"../chunk-component-NotificationsBell-eCwis6PW.js";import{_ as O}from"../chunk-component-Card-BWbCGpFM.js";const S={key:0,class:"mb-3"},j={class:"user-info"},q=["src","alt"],D={class:"user-name"},E={class:"user-email"},H=["value"],z={key:1,class:"mt-3"},G={class:"text-muted"},J={__name:"RoleModal",props:{modelValue:Boolean,user:Object,roles:Array},emits:["update:modelValue","save"],setup(t,{emit:k}){const{t:r}=L(),f=t,V=k,i=b("");g(()=>f.user,o=>{o&&(i.value=o.role||"")},{immediate:!0});const _=h(()=>{var o;return(o=f.roles)==null?void 0:o.find(u=>u.key===i.value)}),p=()=>{V("save",{role:i.value})};return(o,u)=>(c(),B(e(A),{visible:t.modelValue,onClose:u[2]||(u[2]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[s(e(R),null,{default:a(()=>[s(e(M),null,{default:a(()=>[m(l(e(r)("users.assignRole")),1)]),_:1})]),_:1}),s(e(I),null,{default:a(()=>[t.user?(c(),v("div",S,[d("div",j,[d("img",{src:t.user.avatar_url,alt:t.user.display_name,class:"user-avatar"},null,8,q),d("div",null,[d("div",D,l(t.user.display_name),1),d("div",E,l(t.user.email),1)])])])):C("",!0),s(e(F),null,{default:a(()=>[m(l(e(r)("users.selectRole")),1)]),_:1}),s(e(x),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=n=>i.value=n)},{default:a(()=>[(c(!0),v($,null,N(t.roles,n=>(c(),v("option",{key:n.key,value:n.key},l(n.name),9,H))),128))]),_:1},8,["modelValue"]),_.value?(c(),v("div",z,[d("small",G,l(e(r)("users.capabilities"))+": "+l(_.value.capabilities_count),1)])):C("",!0)]),_:1}),s(e(w),null,{default:a(()=>[s(e(y),{color:"secondary",onClick:u[1]||(u[1]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[m(l(e(r)("common.cancel")),1)]),_:1}),s(e(y),{color:"primary",onClick:p},{default:a(()=>[s(e(T),{icon:"cil-shield-alt",class:"me-1"}),m(" "+l(e(r)("users.assign")),1)]),_:1})]),_:1})]),_:1},8,["visible"]))}},U=O(J,[["__scopeId","data-v-2c23cbef"]]);export{U as R};
