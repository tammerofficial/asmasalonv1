import{f as b,w as g,g as h,s as B,o as c,p as a,d as s,u as e,a8 as M,P as m,t as l,a7 as R,c as f,a as C,b as d,ap as x,a0 as F,k as N,F as $,a9 as I,x as y,C as T,aa as w,Z as A}from"../chunk-vendor-vue-CVODRAc9.js";import{u as L}from"../chunk-component-NotificationsBell-BlaTfaiw.js";import{_ as S}from"../chunk-component-Card-DAbGoLxt.js";const j={key:0,class:"mb-3"},D={class:"user-info"},E=["src","alt"],H={class:"user-name"},O={class:"user-email"},P=["value"],Z={key:1,class:"mt-3"},q={class:"text-muted"},z={__name:"RoleModal",props:{modelValue:Boolean,user:Object,roles:Array},emits:["update:modelValue","save"],setup(t,{emit:k}){const{t:r}=L(),v=t,p=k,i=b("");g(()=>v.user,o=>{o&&(i.value=o.role||"")},{immediate:!0});const _=h(()=>{var o;return(o=v.roles)==null?void 0:o.find(u=>u.key===i.value)}),V=()=>{p("save",{role:i.value})};return(o,u)=>(c(),B(e(A),{visible:t.modelValue,onClose:u[2]||(u[2]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[s(e(R),null,{default:a(()=>[s(e(M),null,{default:a(()=>[m(l(e(r)("users.assignRole")),1)]),_:1})]),_:1}),s(e(I),null,{default:a(()=>[t.user?(c(),f("div",j,[d("div",D,[d("img",{src:t.user.avatar_url,alt:t.user.display_name,class:"user-avatar"},null,8,E),d("div",null,[d("div",H,l(t.user.display_name),1),d("div",O,l(t.user.email),1)])])])):C("",!0),s(e(x),null,{default:a(()=>[m(l(e(r)("users.selectRole")),1)]),_:1}),s(e(F),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=n=>i.value=n)},{default:a(()=>[(c(!0),f($,null,N(t.roles,n=>(c(),f("option",{key:n.key,value:n.key},l(n.name),9,P))),128))]),_:1},8,["modelValue"]),_.value?(c(),f("div",Z,[d("small",q,l(e(r)("users.capabilities"))+": "+l(_.value.capabilities_count),1)])):C("",!0)]),_:1}),s(e(w),null,{default:a(()=>[s(e(y),{color:"secondary",onClick:u[1]||(u[1]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[m(l(e(r)("common.cancel")),1)]),_:1}),s(e(y),{color:"primary",onClick:V},{default:a(()=>[s(e(T),{icon:"cil-shield-alt",class:"me-1"}),m(" "+l(e(r)("users.assign")),1)]),_:1})]),_:1})]),_:1},8,["visible"]))}},Q=S(z,[["__scopeId","data-v-2c23cbef"]]);export{Q as R};
