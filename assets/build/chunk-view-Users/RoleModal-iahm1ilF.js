import{f as b,i as g,e as h,s as B,o as c,w as a,d as s,u as e,a6 as M,P as m,t as l,a5 as R,c as f,a as C,b as d,al as x,a4 as F,g as N,F as $,a7 as I,x as y,C as T,a8 as w,a0 as A}from"../chunk-vendor-vue-Dg0iJD_h.js";import{u as L}from"../chunk-component-NotificationsBell-B2dAMSJx.js";import{_ as S}from"../chunk-component-Card-BEqwRdY0.js";const j={key:0,class:"mb-3"},D={class:"user-info"},E=["src","alt"],H={class:"user-name"},O={class:"user-email"},P=["value"],q={key:1,class:"mt-3"},z={class:"text-muted"},G={__name:"RoleModal",props:{modelValue:Boolean,user:Object,roles:Array},emits:["update:modelValue","save"],setup(t,{emit:V}){const{t:r}=L(),v=t,k=V,i=b("");g(()=>v.user,o=>{o&&(i.value=o.role||"")},{immediate:!0});const _=h(()=>{var o;return(o=v.roles)==null?void 0:o.find(u=>u.key===i.value)}),p=()=>{k("save",{role:i.value})};return(o,u)=>(c(),B(e(A),{visible:t.modelValue,onClose:u[2]||(u[2]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[s(e(R),null,{default:a(()=>[s(e(M),null,{default:a(()=>[m(l(e(r)("users.assignRole")),1)]),_:1})]),_:1}),s(e(I),null,{default:a(()=>[t.user?(c(),f("div",j,[d("div",D,[d("img",{src:t.user.avatar_url,alt:t.user.display_name,class:"user-avatar"},null,8,E),d("div",null,[d("div",H,l(t.user.display_name),1),d("div",O,l(t.user.email),1)])])])):C("",!0),s(e(x),null,{default:a(()=>[m(l(e(r)("users.selectRole")),1)]),_:1}),s(e(F),{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=n=>i.value=n)},{default:a(()=>[(c(!0),f($,null,N(t.roles,n=>(c(),f("option",{key:n.key,value:n.key},l(n.name),9,P))),128))]),_:1},8,["modelValue"]),_.value?(c(),f("div",q,[d("small",z,l(e(r)("users.capabilities"))+": "+l(_.value.capabilities_count),1)])):C("",!0)]),_:1}),s(e(w),null,{default:a(()=>[s(e(y),{color:"secondary",onClick:u[1]||(u[1]=n=>o.$emit("update:modelValue",!1))},{default:a(()=>[m(l(e(r)("common.cancel")),1)]),_:1}),s(e(y),{color:"primary",onClick:p},{default:a(()=>[s(e(T),{icon:"cil-shield-alt",class:"me-1"}),m(" "+l(e(r)("users.assign")),1)]),_:1})]),_:1})]),_:1},8,["visible"]))}},U=S(G,[["__scopeId","data-v-2c23cbef"]]);export{U as R};
