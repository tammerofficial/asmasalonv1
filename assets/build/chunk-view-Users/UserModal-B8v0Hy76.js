import{f as b,w as k,s as N,o as p,p as d,d as a,u as e,a8 as x,P as n,t as u,a7 as B,ab as F,X as M,b as i,ap as f,a1 as c,a0 as P,c as v,k as q,F as U,a as g,a9 as S,x as C,C as T,aa as $,Z as I}from"../chunk-vendor-vue-9XB69CcG.js";import{u as L}from"../chunk-component-NotificationsBell-Dr2jTnD2.js";import{_ as j}from"../chunk-component-Card-CPZTx4Dn.js";const z={class:"row g-3"},A={class:"col-md-6"},D={class:"col-md-6"},E={class:"col-md-6"},H={class:"col-md-6"},K={class:"col-md-12"},O=["value"],X={class:"col-md-12"},Z={key:0,class:"text-muted"},G={__name:"UserModal",props:{modelValue:Boolean,user:Object,roles:Array},emits:["update:modelValue","save"],setup(m,{emit:w}){const{t:l}=L(),_=m,y=w,t=b({username:"",email:"",first_name:"",last_name:"",role:"asmaa_staff",password:""});k(()=>_.user,r=>{r?t.value={username:r.username||"",email:r.email||"",first_name:r.first_name||"",last_name:r.last_name||"",role:r.role||"asmaa_staff",password:""}:h()});const h=()=>{t.value={username:"",email:"",first_name:"",last_name:"",role:"asmaa_staff",password:""}},V=()=>{const r={...t.value};_.user&&!r.password&&delete r.password,y("save",r)};return(r,o)=>(p(),N(e(I),{visible:m.modelValue,size:"lg",onClose:o[7]||(o[7]=s=>r.$emit("update:modelValue",!1))},{default:d(()=>[a(e(B),null,{default:d(()=>[a(e(x),null,{default:d(()=>[n(u(m.user?e(l)("users.editUser"):e(l)("users.addNew")),1)]),_:1})]),_:1}),a(e(S),null,{default:d(()=>[a(e(F),{onSubmit:M(V,["prevent"])},{default:d(()=>[i("div",z,[i("div",A,[a(e(f),{for:"username"},{default:d(()=>[n(u(e(l)("users.username"))+" *",1)]),_:1}),a(e(c),{id:"username",modelValue:t.value.username,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.username=s),type:"text",placeholder:e(l)("users.usernamePlaceholder"),disabled:!!m.user,required:""},null,8,["modelValue","placeholder","disabled"])]),i("div",D,[a(e(f),{for:"email"},{default:d(()=>[n(u(e(l)("users.email"))+" *",1)]),_:1}),a(e(c),{id:"email",modelValue:t.value.email,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.email=s),type:"email",placeholder:e(l)("users.emailPlaceholder"),required:""},null,8,["modelValue","placeholder"])]),i("div",E,[a(e(f),{for:"first_name"},{default:d(()=>[n(u(e(l)("users.firstName")),1)]),_:1}),a(e(c),{id:"first_name",modelValue:t.value.first_name,"onUpdate:modelValue":o[2]||(o[2]=s=>t.value.first_name=s),type:"text",placeholder:e(l)("users.firstNamePlaceholder")},null,8,["modelValue","placeholder"])]),i("div",H,[a(e(f),{for:"last_name"},{default:d(()=>[n(u(e(l)("users.lastName")),1)]),_:1}),a(e(c),{id:"last_name",modelValue:t.value.last_name,"onUpdate:modelValue":o[3]||(o[3]=s=>t.value.last_name=s),type:"text",placeholder:e(l)("users.lastNamePlaceholder")},null,8,["modelValue","placeholder"])]),i("div",K,[a(e(f),{for:"role"},{default:d(()=>[n(u(e(l)("users.role"))+" *",1)]),_:1}),a(e(P),{id:"role",modelValue:t.value.role,"onUpdate:modelValue":o[4]||(o[4]=s=>t.value.role=s),required:""},{default:d(()=>[(p(!0),v(U,null,q(m.roles,s=>(p(),v("option",{key:s.key,value:s.key},u(s.name),9,O))),128))]),_:1},8,["modelValue"])]),i("div",X,[a(e(f),{for:"password"},{default:d(()=>[n(u(m.user?e(l)("users.newPassword"):e(l)("users.password"))+" "+u(m.user?"":"*"),1)]),_:1}),a(e(c),{id:"password",modelValue:t.value.password,"onUpdate:modelValue":o[5]||(o[5]=s=>t.value.password=s),type:"password",placeholder:e(l)("users.passwordPlaceholder"),required:!m.user},null,8,["modelValue","placeholder","required"]),m.user?(p(),v("small",Z,u(e(l)("users.leaveBlankToKeep")),1)):g("",!0)])])]),_:1})]),_:1}),a(e($),null,{default:d(()=>[a(e(C),{color:"secondary",onClick:o[6]||(o[6]=s=>r.$emit("update:modelValue",!1))},{default:d(()=>[n(u(e(l)("common.cancel")),1)]),_:1}),a(e(C),{color:"primary",onClick:V},{default:d(()=>[a(e(T),{icon:"cil-save",class:"me-1"}),n(" "+u(e(l)("common.save")),1)]),_:1})]),_:1})]),_:1},8,["visible"]))}},W=j(G,[["__scopeId","data-v-efbcf19a"]]);export{W as U};
